(function(){"use strict";var e={6442:function(e,t,a){var s=a(1406),n=a(3907);const o={idToColor:e=>{const t=["dark","red","orange","yellow","green","blue","cyan","violet","white"],a=t.findIndex(((t,a)=>a==e));return a>=0?t[e]:"black"}};var r=o;const l=(0,n.MT)({state:{user:{},loadTable:"realtime",isLoggin:!1,isPlaySoundMessage:!1,dataRealtime:[],dataStatistic:[],countColors:{},sideNavContent:"",currentData:{},managerUser:{},managerUsers:[]},getters:{checkLoggin(e){return e.isLoggin},getUser(e){return e.user},getLoadTable(e){return e.loadTable},getLoginName(e){return e.user?.username},getIsPlaySoundMess(e){return e.isPlaySoundMessage},getDataRealtime(e){return e.dataRealtime},getDataStatistic(e){return e.dataStatistic},getCountColors(e){return e.countColors},getSideNavContent(e){return e.sideNavContent},getCurrentData(e){return e.currentData},getManagerUserInfo(e){return e.managerUser},getManagerRole(e){return e.managerUser.role},getManagerUsername(e){return e.managerUser.username},getManagerUsers(e){return e.managerUsers}},mutations:{setIsLoggin(e,t){e.isLoggin=t},setUser(e,t){e.user=t,e.isLoggin=!0},setLoadTable(e,t){e.loadTable=t},setDataRealtime(e,t){e.dataRealtime=t},insertDataRealtime(e,t){e.dataRealtime.unshift(t)},setDataStatistic(e,t){e.dataStatistic=t},insertDataStatistic(e,t){e.dataStatistic.unshift(t)},setCountColors(e,t){e.countColors=t},setSideNavContent(e,t){e.sideNavContent=t},setCurrentData(e,t){e.currentData=t},setManagerUserInfo(e,t){e.managerUser=t},setManagerRole(e,t){e.managerUser.role=t},setManagerUsername(e,t){e.managerUser.username=t},setManagerUsers(e,t){e.managerUsers=t}},actions:{handleSetLoadTable(e,t){e.commit("setLoadTable",t)},updateManagerUsers({commit:e,state:t},a){const s=t.managerUsers.map((e=>e.email!==a.email?e:a));e("setManagerUsers",s)}}});var i=l,c=a(3648);function d(e,t,a,s,n,o){const r=(0,c.up)("router-view");return(0,c.wg)(),(0,c.j4)(r)}var u=a(1766),m=new u.Howl({src:["../audios/elegant-notification-sound.mp3"],autoplay:!0,volume:1}),g=m,p=(e,t)=>{const a=e.permissions??[],s=a.some((e=>t.includes(e)));return s};const h={currentDataStore:e=>{const t=(e.type??"")+" "+(e.system??"")+" "+(e.parameter??""),a=r.idToColor(e.priority);i.commit("setCurrentData",{msg:t,color:a})},realtimeStore:e=>{var t=i.getters.getDataRealtime;if(t.length>0)for(let a=0;a<t.length;a++){if(0==t[a].priority||e.priority>0&&e.priority<=t[a].priority){t.splice(a,0,e);break}if(a==t.length-1){t.push(e);break}}else t.push(e);i.commit("setDataRealtime",t)},redisRealtimeStore:e=>{i.commit("setDataRealtime",e)},counterColorStore:()=>{const e=i.getters.getDataRealtime;var t={};e.forEach((e=>{const a=r.idToColor(e.priority);t[a]=(t[a]||0)+1})),i.commit("setCountColors",Object.entries(t))}};var b=h,f={name:"App",sockets:{realtime:function(e){const t=p(i.getters.getUser,["view-realtime"]);t&&(g.play(),b.currentDataStore(e),b.realtimeStore(e),b.counterColorStore())},statistic:function(e){const t=p(i.getters.getUser,["view-statistic"]);t&&i.commit("setDataStatistic",e)},updateRealtime:function(e){null==e.error&&(0==e.data.length&&i.commit("setCurrentData",{}),b.redisRealtimeStore(e.data),b.counterColorStore())},updateStatistic:function(e){null==e.error&&i.commit("setDataStatistic",e.data)}}},v=a(8118);const _=(0,v.Z)(f,[["render",d]]);var w=_,y=a(2119);function k(e,t,a,s,n,o){const r=(0,c.up)("NavBar"),l=(0,c.up)("SideNav");return(0,c.wg)(),(0,c.iD)("div",null,[(0,c.Wm)(r),(0,c.Wm)(l)])}const S={class:"sb-topnav navbar navbar-expand navbar-dark bg-dark"},D=(0,c.Uk)("IFC"),C=(0,c._)("i",{class:"fas fa-bars"},null,-1),U=[C],x={class:"d-none d-md-inline-block form-inline ms-auto me-0 me-md-3 my-2 my-md-0"},M={key:0,class:"input-group"},R=(0,c._)("input",{class:"form-control",type:"text",placeholder:"Search for...","aria-label":"Search for...","aria-describedby":"btnNavbarSearch"},null,-1),N=(0,c._)("button",{class:"btn btn-primary",id:"btnNavbarSearch",type:"button"},[(0,c._)("i",{class:"fas fa-search"})],-1),T=[R,N],L={class:"navbar-nav ms-auto ms-md-0 me-3 me-lg-4 navbar-expand"},P=(0,c.Uk)(" Login "),A=(0,c.Uk)(" Register "),H={class:"noti-icon px-3"},W={class:"nav-item dropdown"},V=(0,c._)("img",{src:"https://mdbcdn.b-cdn.net/img/new/avatars/2.webp",class:"rounded-circle",style:{width:"30px"},alt:"Avatar"},null,-1),E={class:"dropdown-menu dropdown-menu-end","aria-labelledby":"navbarDropdown"},I=(0,c.Uk)("Settings"),Z=(0,c._)("li",null,[(0,c._)("a",{class:"dropdown-item",href:"#!"},"Activity Log")],-1),q=(0,c._)("hr",{class:"dropdown-divider"},null,-1),j=[q];function F(e,t,a,n,o,r){const l=(0,c.up)("router-link"),i=(0,c.up)("NotiIcon");return(0,c.wg)(),(0,c.iD)("nav",S,[(0,c.Wm)(l,{class:"navbar-brand ps-3",to:"/"},{default:(0,c.w5)((()=>[D])),_:1}),r.isLoggin?((0,c.wg)(),(0,c.iD)("button",{key:0,class:"btn btn-link btn-sm order-1 order-lg-0 me-4 me-lg-0",id:"sidebarToggle",onClick:t[0]||(t[0]=(...e)=>r.sidebarToggle&&r.sidebarToggle(...e))},U)):(0,c.kq)("",!0),(0,c._)("form",x,[r.isLoggin?((0,c.wg)(),(0,c.iD)("div",M,T)):(0,c.kq)("",!0)]),r.isLoggin?((0,c.wg)(),(0,c.j4)(i,{key:1})):(0,c.kq)("",!0),(0,c._)("ul",L,[r.isLoggin?(0,c.kq)("",!0):((0,c.wg)(),(0,c.j4)(l,{key:0,class:"nav-link ps-4",to:"/login"},{default:(0,c.w5)((()=>[P])),_:1})),r.isLoggin?(0,c.kq)("",!0):((0,c.wg)(),(0,c.j4)(l,{key:1,class:"nav-link ps-4",to:"/register"},{default:(0,c.w5)((()=>[A])),_:1})),(0,c._)("div",H,[(0,c._)("li",W,[(0,c.Wm)(l,{class:"nav-link px-1",id:"navbarDropdown",to:"#",role:"button","data-bs-toggle":"dropdown","aria-expanded":"false"},{default:(0,c.w5)((()=>[V])),_:1}),(0,c._)("ul",E,[(0,c._)("li",null,[(0,c.Wm)(l,{class:"dropdown-item",to:"/account"},{default:(0,c.w5)((()=>[I])),_:1})]),Z,(0,c.wy)((0,c._)("li",null,j,512),[[s.F8,r.isLoggin]]),(0,c.wy)((0,c._)("li",null,[(0,c._)("a",{class:"dropdown-item",href:"#",onClick:t[1]||(t[1]=(...e)=>r.logout&&r.logout(...e))},"Logout")],512),[[s.F8,r.isLoggin]])])])])])])}var z=a(9669),O=a.n(z);O().defaults.withCredentials=!0;const $={login:async e=>{try{const a=await O().post("api/auth/login",e);var t="";return a.data.permissions[0]&&(t=a.data.permissions[0].split("-")[1]),i.commit("setUser",a.data),i.commit("setIsLoggin",!0),i.commit("setLoadTable",t),localStorage.setItem("user",JSON.stringify(a.data)),a}catch(a){throw a}},register:async e=>{try{await O().post("api/auth/register",e);return"success"}catch(t){throw t}},logout:async()=>{try{const e=await O().post("api/auth/logout",{withCredentials:!0});return i.commit("setUser",{}),i.commit("setIsLoggin",!1),localStorage.clear(),e.data}catch(e){return e.response}},refreshToken:async()=>{try{const e=await O().post("api/auth/refresh",{withCredentials:!0});return localStorage.setItem("user",JSON.stringify(e.data)),e.data}catch(e){return e.response}},resetPassword:async e=>{try{const t=O().post("/api/auth/reset",{email:e});return t.data}catch(t){return t.response}},isLogged:async()=>{try{const e=localStorage.getItem("user")??{},t=await O().post("/api/auth/isLogged",{user:JSON.parse(e)},{withCredentials:!0}),a=t.data.permissions[0].split("-")[1];return i.commit("setUser",t.data),i.commit("setIsLoggin",!0),i.commit("setLoadTable",a),t}catch(e){return e.response}}};var K=$;const B={class:"noti-icon px-2"},Q=(0,c._)("div",{class:"position-relative"},[(0,c._)("i",{class:"fas fa-bell noti circle-icon"}),(0,c._)("span",{class:"position-absolute top-1 start-100 translate-right badge rounded-pill bg-warning"},[(0,c.Uk)(" 99+ "),(0,c._)("span",{class:"visually-hidden"},"unread messages")])],-1),G=[Q];function Y(e,t,a,s,n,o){return(0,c.wg)(),(0,c.iD)("div",B,G)}var J={};const X=(0,v.Z)(J,[["render",Y]]);var ee=X,te={name:"NavBar",components:{NotiIcon:ee},data(){return{}},computed:{isLoggin(){return i.getters.checkLoggin}},methods:{logout(){K.logout().then((e=>{this.$router.push({name:"dashboard"})})).catch((e=>{console.log(e)}))},sidebarToggle(){document.body.classList.toggle("sb-sidenav-toggled")}}};const ae=(0,v.Z)(te,[["render",F]]);var se=ae;const ne={id:"layoutSidenav"},oe={id:"layoutSidenav_nav"};function re(e,t,a,s,n,o){const r=(0,c.up)("SideNavToogle"),l=(0,c.up)("SideNavContent");return(0,c.wg)(),(0,c.iD)("div",ne,[(0,c._)("div",oe,[(0,c.Wm)(r)]),(0,c.Wm)(l)])}const le={class:"sb-sidenav accordion sb-sidenav-dark",id:"sidenavAccordion"};function ie(e,t,a,s,n,o){const r=(0,c.up)("SideNavMenu"),l=(0,c.up)("SideNavFooter");return(0,c.wg)(),(0,c.iD)("nav",le,[(0,c.Wm)(r),(0,c.Wm)(l)])}const ce={class:"sb-sidenav-menu"};function de(e,t,a,s,n,o){const r=(0,c.up)("SideNavMenuHomePage"),l=(0,c.up)("SideNavMenuAccount");return(0,c.wg)(),(0,c.iD)("div",ce,["home"==o.canShow?((0,c.wg)(),(0,c.j4)(r,{key:0})):"account"==o.canShow?((0,c.wg)(),(0,c.j4)(l,{key:1})):(0,c.kq)("",!0)])}const ue={class:"nav"},me=(0,c._)("div",{class:"sb-nav-link-icon"},[(0,c._)("i",{class:"fas fa-chart-area"})],-1),ge=(0,c.Uk)(" Trực tuyến "),pe=[me,ge],he=(0,c._)("div",{class:"sb-nav-link-icon"},[(0,c._)("i",{class:"fas fa-table"})],-1),be=(0,c.Uk)(" Thống kê "),fe=[he,be],ve=(0,c._)("div",{class:"sb-nav-link-icon"},[(0,c._)("i",{class:"fas fa-users-cog"})],-1),_e=(0,c.Uk)(" Manager Users "),we=[ve,_e],ye=(0,c._)("div",{class:"sb-nav-link-icon"},[(0,c._)("i",{class:"fas fa-user-tag"})],-1),ke=(0,c.Uk)(" Manager Roles "),Se=[ye,ke];function De(e,t,a,s,n,o){return(0,c.wg)(),(0,c.iD)("div",ue,[o.canShowRealTime?((0,c.wg)(),(0,c.iD)("a",{key:0,ref:"realtime",class:"nav-link",onClick:t[0]||(t[0]=e=>o.setLoadTable("realtime"))},pe,512)):(0,c.kq)("",!0),o.canShowStatistic?((0,c.wg)(),(0,c.iD)("a",{key:1,ref:"statistic",class:"nav-link",onClick:t[1]||(t[1]=e=>o.setLoadTable("statistic"))},fe,512)):(0,c.kq)("",!0),o.canShowManagerUser?((0,c.wg)(),(0,c.iD)("a",{key:2,ref:"managerUser",class:"nav-link",onClick:t[2]||(t[2]=e=>o.setLoadTable("managerUser"))},we,512)):(0,c.kq)("",!0),o.canShowManagerRole?((0,c.wg)(),(0,c.iD)("a",{key:3,ref:"managerRole",class:"nav-link",onClick:t[3]||(t[3]=e=>o.setLoadTable("managerRole"))},Se,512)):(0,c.kq)("",!0)])}var Ce={name:"SideNavMeneHomePage",computed:{canShowRealTime(){return p(i.getters.getUser,["view-realtime"])},canShowStatistic(){return p(i.getters.getUser,["view-statistic"])},canShowManagerUser(){return p(i.getters.getUser,["view-managerUser"])},canShowManagerRole(){return p(i.getters.getUser,["view-managerRole"])}},methods:{setLoadTable(e){i.dispatch("handleSetLoadTable",e),Object.keys(this.$refs).forEach((t=>{e!==t&&(this.$refs[t].classList.remove("highlight"),this.$refs[e].classList.add("highlight"))}))}},mounted(){let e=i.getters.getLoadTable;this.$refs[e]&&this.$refs[e].classList.add("highlight")}};const Ue=(0,v.Z)(Ce,[["render",De]]);var xe=Ue;const Me={class:"nav"},Re=(0,c._)("a",{class:"nav-link"},[(0,c._)("div",{class:"sb-nav-link-icon"},[(0,c._)("i",{class:"fas fa-chart-area"})]),(0,c.Uk)(" Account ")],-1),Ne=[Re];function Te(e,t,a,s,n,o){return(0,c.wg)(),(0,c.iD)("div",Me,Ne)}var Le={name:"Account"};const Pe=(0,v.Z)(Le,[["render",Te]]);var Ae=Pe,He={name:"SideNavMenu",components:{SideNavMenuHomePage:xe,SideNavMenuAccount:Ae},computed:{canShow(){return i.getters.getSideNavContent}}};const We=(0,v.Z)(He,[["render",de]]);var Ve=We;const Ee={class:"sb-sidenav-footer"},Ie=(0,c._)("div",{class:"small"},"Logged in as:",-1),Ze=(0,c.Uk)(" IFC "),qe=[Ie,Ze];function je(e,t,a,s,n,o){return(0,c.wg)(),(0,c.iD)("div",Ee,qe)}var Fe={name:"SideNavFooter"};const ze=(0,v.Z)(Fe,[["render",je]]);var Oe=ze,$e={name:"SideNavToogle",components:{SideNavMenu:Ve,SideNavFooter:Oe}};const Ke=(0,v.Z)($e,[["render",ie]]);var Be=Ke;function Qe(e,t,a,s,n,o){const r=(0,c.up)("SideNavContentHomePage"),l=(0,c.up)("SideNavContentAccount");return"home"==o.canShow?((0,c.wg)(),(0,c.j4)(r,{key:0})):"account"==o.canShow?((0,c.wg)(),(0,c.j4)(l,{key:1})):(0,c.kq)("",!0)}const Ge={id:"layoutSidenav_content"};function Ye(e,t,a,s,n,o){const r=(0,c.up)("RealTime"),l=(0,c.up)("Statistic"),i=(0,c.up)("ManagerUsers"),d=(0,c.up)("ManagerRoles"),u=(0,c.up)("Footer");return(0,c.wg)(),(0,c.iD)("div",Ge,["realtime"===o.loadTable?((0,c.wg)(),(0,c.j4)(r,{key:0,name:"realtime"})):(0,c.kq)("",!0),"statistic"===o.loadTable?((0,c.wg)(),(0,c.j4)(l,{key:1,name:"statistic"})):(0,c.kq)("",!0),"managerUser"===o.loadTable?((0,c.wg)(),(0,c.j4)(i,{key:2,name:"managerUser"})):(0,c.kq)("",!0),"managerRole"===o.loadTable?((0,c.wg)(),(0,c.j4)(d,{key:3,name:"managerRole"})):(0,c.kq)("",!0),(0,c.Wm)(u)])}const Je={class:"py-4 bg-light mt-auto"},Xe=(0,c.uE)('<div class="container-fluid px-4"><div class="d-flex align-items-center justify-content-between small"><div class="text-muted">Copyright © IFC Website 2022</div><div><a href="#">Privacy Policy</a> · <a href="#">Terms &amp; Conditions</a></div></div></div>',1),et=[Xe];function tt(e,t,a,s,n,o){return(0,c.wg)(),(0,c.iD)("footer",Je,et)}var at={name:"Footer"};const st=(0,v.Z)(at,[["render",tt]]);var nt=st,ot=a(7495);const rt={class:"container-fluid p-2"},lt={key:0,class:"text-center mt-5"},it=(0,c._)("div",{class:"spinner-border",role:"status"},[(0,c._)("span",{class:"visually-hidden"},"Loading...")],-1),ct=[it],dt={key:1,class:"card mb-4"},ut={class:"card-body"},mt={class:"dataTable-wrapper dataTable-loading no-footer sortable searchable fixed-columns"},gt=(0,c._)("div",{class:"dataTable-top"},null,-1),pt={class:"d-flex"},ht={class:"table-wrapper"},bt={class:"table-ifc table-dark table-ifc-hover table-bordered",id:"dataTable",width:"100%",cellspacing:"0"},ft=(0,c._)("thead",null,[(0,c._)("tr",{id:"0"},[(0,c._)("th",null,"Type"),(0,c._)("th",null,"System"),(0,c._)("th",null,"Parameter"),(0,c._)("th",null,"Value"),(0,c._)("th",null,"Unit"),(0,c._)("th",null,"Time"),(0,c._)("th",null,"Message"),(0,c._)("th",null,"Action"),(0,c._)("th",null,"Contact")])],-1),vt=["id"],_t={ref:"modal",class:"modal fade",id:"addColumnModal",tabindex:"-1","aria-labelledby":"addColumnModalLabel","aria-hidden":"true"},wt={class:"modal-dialog modal-xl"},yt={class:"modal-content"},kt=(0,c._)("div",{class:"modal-header"},[(0,c._)("h5",{class:"modal-title",id:"addColumnModalLabel"},"Thay đổi cột hiển thị")],-1),St={class:"d-inline-flex"},Dt={class:"modal-body"},Ct={class:"table table-striped table-dark table-hover table-bordered",width:"100%",cellspacing:"0"},Ut={ref:"title"},xt={ref:"nameShow"},Mt=["id"],Rt={ref:"nameQuery"},Nt=["id"],Tt={class:"flex-sm-column d-flex"},Lt={class:"modal-footer"},Pt=(0,c._)("button",{type:"button",class:"btn btn-secondary","data-bs-dismiss":"modal"},"Hủy",-1);function At(e,t,a,s,n,o){const r=(0,c.up)("ModalRealtime");return(0,c.wg)(),(0,c.iD)("main",null,[(0,c._)("div",rt,[n.isLoading?((0,c.wg)(),(0,c.iD)("div",lt,ct)):((0,c.wg)(),(0,c.iD)("div",dt,[(0,c._)("div",ut,[(0,c._)("div",mt,[gt,(0,c._)("div",pt,[((0,c.wg)(!0),(0,c.iD)(c.HY,null,(0,c.Ko)(o.countColors,((e,t)=>((0,c.wg)(),(0,c.iD)("button",{type:"button",class:(0,ot.C_)("btn btn-"+e[0]+" mbr-2"),key:t},(0,ot.zw)(e[1]),3)))),128)),(0,c._)("button",{type:"button",class:(0,ot.C_)("btn btn-"+o.currentData.color+" mbr-2 mx-5 flex-grow-1"),disabled:""},(0,ot.zw)(o.currentData.msg),3),o.dataItems.length>0?((0,c.wg)(),(0,c.iD)("button",{key:0,onClick:t[0]||(t[0]=(...e)=>o.removeTask&&o.removeTask(...e)),type:"button",class:"btn btn-primary mbr-2"},"Remove Data")):(0,c.kq)("",!0)]),(0,c._)("div",ht,[(0,c._)("table",bt,[ft,(0,c._)("tbody",null,[((0,c.wg)(!0),(0,c.iD)(c.HY,null,(0,c.Ko)(o.dataItems,((e,t)=>((0,c.wg)(),(0,c.iD)("tr",{ref_for:!0,ref:"item",id:e?.priority,key:t},[(0,c._)("td",null,(0,ot.zw)(e?.type),1),(0,c._)("td",null,(0,ot.zw)(e?.system),1),(0,c._)("td",null,(0,ot.zw)(e?.parameter),1),(0,c._)("td",null,(0,ot.zw)(e?.value),1),(0,c._)("td",null,(0,ot.zw)(e?.unit),1),(0,c._)("td",null,(0,ot.zw)(e?.time),1),(0,c._)("td",null,(0,ot.zw)(o.collapMessage(e?.message)),1),(0,c._)("td",null,(0,ot.zw)(e?.action),1),(0,c._)("td",null,(0,ot.zw)(o.collapContact(e?.contact)),1)],8,vt)))),128))])])])])])]))]),(0,c._)("div",_t,[(0,c._)("div",wt,[(0,c._)("div",yt,[kt,(0,c._)("div",St,[(0,c._)("div",Dt,[(0,c._)("table",Ct,[(0,c._)("thead",null,[(0,c._)("tr",Ut,[((0,c.wg)(!0),(0,c.iD)(c.HY,null,(0,c.Ko)(n.titles,((e,t)=>((0,c.wg)(),(0,c.iD)("th",{key:t},(0,ot.zw)(e),1)))),128))],512)]),(0,c._)("tbody",null,[(0,c._)("tr",xt,[((0,c.wg)(!0),(0,c.iD)(c.HY,null,(0,c.Ko)(n.inputShows,((e,a)=>((0,c.wg)(),(0,c.iD)("td",{key:a},[(0,c._)("input",{onKeyup:t[1]||(t[1]=(...e)=>o.inputShowTable&&o.inputShowTable(...e)),name:"name-show",class:"form-control",id:a,type:"text",placeholder:"Hệ thống",ref_for:!0,ref:"show"},null,40,Mt)])))),128))],512),(0,c._)("tr",Rt,[((0,c.wg)(!0),(0,c.iD)(c.HY,null,(0,c.Ko)(n.inputQuerys,((e,a)=>((0,c.wg)(),(0,c.iD)("td",{key:a},[(0,c._)("input",{onKeyup:t[2]||(t[2]=(...e)=>o.inputQueryTable&&o.inputQueryTable(...e)),name:"name-query",class:"form-control",id:a,type:"text",placeholder:"name",ref_for:!0,ref:"query"},null,40,Nt)])))),128))],512)])])]),(0,c._)("div",Tt,[(0,c._)("i",{onClick:t[3]||(t[3]=(...e)=>o.addColumn&&o.addColumn(...e)),class:"fas fa-plus-square icon-add-column",ref:"iconPlus"},null,512),(0,c._)("i",{onClick:t[4]||(t[4]=(...e)=>o.removeColumn&&o.removeColumn(...e)),class:"fas fa-minus-square icon-remove-column",ref:"iconMinus"},null,512)])]),(0,c._)("div",Lt,[Pt,(0,c._)("button",{type:"button",class:"btn btn-primary","data-bs-dismiss":"modal",onClick:t[5]||(t[5]=(...e)=>o.addColumn&&o.addColumn(...e))},"Thay đổi")])])])],512),(0,c.Wm)(r)])}const Ht={getIndexStore:async e=>{try{const t=await O().post("/api/redis/index",{key:e});return t.data}catch(t){return t.response}},selectTask:async(e,t,a)=>{try{const s=await O().post("api/redis/update",{id:e.target.value,isAction:e.target.checked,username:e.target.checked?t:"",key:a});return s.data}catch(s){return s.response}},doneTask:async(e,t,a,s)=>{try{const n=await O().post("api/redis/delete",{id:e,userCheck:t,userDone:a,key:s});return n.data}catch(n){return n.response}},doneAllTask:async e=>{try{const t=await O().post("api/redis/deleteAll",{userCheck:e,userDone:e});return t.data}catch(t){return t.response}},doneSelectionTask:async(e,t,a)=>{try{const s=await O().post("api/redis/deleteSelection",{key:a,selection:t,userCheck:e,userDone:e});return s.data}catch(s){return s.response}},removeTask:async(e,t)=>{try{const a=await O().post("api/redis/deleteTaskHour",{hour:t,userDone:e});return a.data}catch(a){return a.response}}};var Wt=Ht;const Vt={ref:"modal",class:"modal fade",id:"modal",tabindex:"-1","aria-labelledby":"modalLabel","aria-hidden":"true"},Et={class:"modal-dialog"},It={class:"modal-content"},Zt=(0,c._)("div",{class:"modal-header"},[(0,c._)("h5",{class:"modal-title mt_warning",id:"modalLabel"},"Cảnh báo !!!")],-1),qt={class:"modal-body"},jt=(0,c.Uk)(" Lựa chọn 1 trong các option bên dưới để hoàn thành! "),Ft={class:"p-3"},zt={class:"form-check"},Ot=["disabled"],$t=(0,c._)("label",{class:"form-check-label",for:"flexRadioDefault1"}," 1 giờ trước ",-1),Kt={class:"form-check"},Bt=["disabled"],Qt=(0,c._)("label",{class:"form-check-label",for:"flexRadioDefault2"}," 3 giờ trước ",-1),Gt={class:"form-check"},Yt=["disabled"],Jt=(0,c._)("label",{class:"form-check-label",for:"flexRadioDefault3"}," 6 giờ trước ",-1),Xt={class:"form-check"},ea=["disabled"],ta=(0,c._)("label",{class:"form-check-label",for:"flexRadioDefault4"}," 12 giờ trước ",-1),aa={class:"input-group input-group-sm mb-3 mt-1"},sa=(0,c._)("span",{class:"px-2"},"giờ trước",-1),na={class:"modal-footer"},oa=(0,c._)("button",{type:"button",class:"btn btn-secondary","data-bs-dismiss":"modal"},"Không",-1);function ra(e,t,a,n,o,r){return(0,c.wg)(),(0,c.iD)("div",Vt,[(0,c._)("div",Et,[(0,c._)("div",It,[Zt,(0,c._)("div",qt,[jt,(0,c._)("div",Ft,[(0,c._)("div",zt,[(0,c.wy)((0,c._)("input",{"onUpdate:modelValue":t[0]||(t[0]=e=>o.selection=e),class:"form-check-input",type:"radio",value:"1",name:"flexRadioDefault",id:"flexRadioDefault1",checked:"",disabled:o.inputDisable},null,8,Ot),[[s.G2,o.selection]]),$t]),(0,c._)("div",Kt,[(0,c.wy)((0,c._)("input",{"onUpdate:modelValue":t[1]||(t[1]=e=>o.selection=e),class:"form-check-input",type:"radio",value:"3",name:"flexRadioDefault",id:"flexRadioDefault2",disabled:o.inputDisable},null,8,Bt),[[s.G2,o.selection]]),Qt]),(0,c._)("div",Gt,[(0,c.wy)((0,c._)("input",{"onUpdate:modelValue":t[2]||(t[2]=e=>o.selection=e),class:"form-check-input",type:"radio",value:"6",name:"flexRadioDefault",id:"flexRadioDefault3",disabled:o.inputDisable},null,8,Yt),[[s.G2,o.selection]]),Jt]),(0,c._)("div",Xt,[(0,c.wy)((0,c._)("input",{"onUpdate:modelValue":t[3]||(t[3]=e=>o.selection=e),class:"form-check-input",type:"radio",value:"12",name:"flexRadioDefault",id:"flexRadioDefault4",disabled:o.inputDisable},null,8,ea),[[s.G2,o.selection]]),ta]),(0,c._)("div",aa,[(0,c.wy)((0,c._)("input",{onKeyup:t[4]||(t[4]=(...e)=>r.getHour&&r.getHour(...e)),"onUpdate:modelValue":t[5]||(t[5]=e=>o.inputHour=e),type:"number",class:"form-control input-hour",placeholder:"2","aria-label":"Recipient's username","aria-describedby":"basic-addon2",min:"0.1",max:"99",step:"0.1"},null,544),[[s.nr,o.inputHour]]),sa])])]),(0,c._)("div",na,[oa,(0,c._)("button",{type:"button",class:"btn btn-primary","data-bs-dismiss":"modal",onClick:t[6]||(t[6]=(...e)=>r.deleteAll&&r.deleteAll(...e))},"Có")])])])],512)}var la={name:"ModalRealtime",data(){return{selection:"1",checkerName:"",inputHour:"",inputDisable:!1,hourRemove:0}},mounted(){this.checkerName=i.getters.getLoginName},methods:{async deleteAll(){this.inputDisable||(this.hourRemove=parseInt(this.selection)),this.$socket.emit("deleteRealtime",{username:this.checkerName,hour:this.hourRemove})},isNaN(e){return e=Number(e),e!=e},getHour(){this.hourRemove=parseInt(this.inputHour),!isNaN(this.hourRemove)&&parseFloat(this.inputHour)>0?this.inputDisable=!0:this.inputDisable=!1}}};const ia=(0,v.Z)(la,[["render",ra]]);var ca=ia,da={name:"Realtime",components:{ModalRealtime:ca},data(){return{isLoading:!0,shows:[0],querys:[0],inputShows:["Hệ thống"],inputQuerys:["name"],titles:["Hệ thống"]}},computed:{dataItems(){return i.getters.getDataRealtime},countColors(){return i.getters.getCountColors},currentData(){return i.getters.getCurrentData}},created(){Wt.getIndexStore("realtime").then((e=>{b.redisRealtimeStore(e),b.counterColorStore(),this.isLoading=!1})).catch((e=>{console.log(e)})),document.title="Trực tuyến"},mounted(){1==this.inputShows.length&&(this.$refs.iconMinus.style.cursor="not-allowed")},methods:{convertColorName(){},inputShowTable(){this.$refs.show.forEach((e=>{console.log(e.id)}))},inputQueryTable(){console.log("query")},addColumn(){this.inputShows.length<10?(this.inputShows.push("Hệ thống"),this.inputQuerys.push("Hệ thống"),this.titles.push("Hệ thống"),this.$refs.iconMinus.style.cursor="pointer",10==this.inputShows.length&&(this.$refs.iconPlus.style.cursor="not-allowed")):this.$refs.iconPlus.style.cursor="not-allowed"},removeColumn(){this.inputShows.length>1?(this.inputShows.pop("Hệ thống"),this.inputQuerys.pop("Hệ thống"),this.titles.pop("Hệ thống"),this.$refs.iconPlus.style.cursor="pointer",1==this.inputShows.length&&(this.$refs.iconMinus.style.cursor="not-allowed")):this.$refs.iconMinus.style.cursor="not-allowed"},collapContact(e){const t=e.split(",");return t.length>1?t[0]+",...":t[0]},collapMessage(e){const t=e.split(" ");return t.length>10?e.slice(0,10)+",...":e},removeTask(){var e=new bootstrap.Modal(document.getElementById("modal"));i.getters.getDataRealtime.length>0&&e.show()}}};const ua=(0,v.Z)(da,[["render",At]]);var ma=ua;const ga={class:"container-fluid p-2"},pa={key:0,class:"text-center mt-5"},ha=(0,c._)("div",{class:"spinner-border",role:"status"},[(0,c._)("span",{class:"visually-hidden"},"Loading...")],-1),ba=[ha],fa={key:1,class:"card mb-4"},va={class:"card-body"},_a={class:"dataTable-wrapper dataTable-loading no-footer sortable searchable fixed-columns"},wa=(0,c._)("div",{class:"dataTable-top"},null,-1),ya={class:"table-wrapper"},ka={class:"table-ifc table-dark table-ifc-hover table-bordered",id:"dataTable",width:"100%",cellspacing:"0"},Sa={id:"0"},Da=(0,c._)("th",null,"Type",-1),Ca=(0,c._)("th",null,"System",-1),Ua=(0,c._)("th",null,"Message",-1),xa=(0,c._)("th",null,"Total",-1),Ma=(0,c._)("th",null,"Action",-1),Ra=(0,c._)("th",null,"Person",-1),Na=["id"],Ta=["value","checked","disabled"],La=["id"];function Pa(e,t,a,s,n,o){const r=(0,c.up)("ModalStatistic");return(0,c.wg)(),(0,c.iD)("main",null,[(0,c._)("div",ga,[n.isLoading?((0,c.wg)(),(0,c.iD)("div",pa,ba)):((0,c.wg)(),(0,c.iD)("div",fa,[(0,c._)("div",va,[(0,c._)("div",_a,[wa,(0,c._)("div",ya,[(0,c._)("table",ka,[(0,c._)("thead",null,[(0,c._)("tr",Sa,[Da,Ca,Ua,xa,Ma,Ra,(0,c._)("th",{onClick:t[0]||(t[0]=(...e)=>o.done&&o.done(...e)),id:"delete-all",class:(0,ot.C_)(o.enableDone)},"Done",2)])]),(0,c._)("tbody",null,[((0,c.wg)(!0),(0,c.iD)(c.HY,null,(0,c.Ko)(o.dataItems,((e,a)=>((0,c.wg)(),(0,c.iD)("tr",{ref_for:!0,ref:"item",id:e?.priority,key:a},[(0,c._)("td",null,(0,ot.zw)(e?.type),1),(0,c._)("td",null,(0,ot.zw)(e?.system),1),(0,c._)("td",null,(0,ot.zw)(e?.parameter),1),(0,c._)("td",null,(0,ot.zw)(e?.total),1),(0,c._)("td",null,[(0,c._)("input",{onClick:t[1]||(t[1]=(...e)=>o.check&&o.check(...e)),name:"chkbox",value:a,class:"form-check-input",type:"checkbox",checked:e.isAction,disabled:o.isDisable(e.username)},null,8,Ta)]),(0,c._)("td",{ref_for:!0,ref:"checkerName_"+a},(0,ot.zw)(e.username),513),(0,c._)("td",null,[(0,c._)("i",{onClick:t[2]||(t[2]=(...e)=>o.doneTask&&o.doneTask(...e)),id:a,class:"fas fa-trash",style:{color:"white"}},null,8,La)])],8,Na)))),128))])])])])])]))]),(0,c.Wm)(r)])}const Aa={ref:"modal",class:"modal fade",id:"modal",tabindex:"-1","aria-labelledby":"exampleModalLabel","aria-hidden":"true"},Ha={class:"modal-dialog"},Wa={class:"modal-content"},Va=(0,c._)("div",{class:"modal-header"},[(0,c._)("h5",{class:"modal-title mt_warning",id:"exampleModalLabel"},"Cảnh báo !!!")],-1),Ea={class:"modal-body"},Ia=(0,c.Uk)(" Lựa chọn 1 trong các option bên dưới để hoàn thành! "),Za={class:"p-3"},qa={class:"form-check"},ja=(0,c._)("label",{class:"form-check-label",for:"flexRadioDefault1"}," Hoàn thành các công việc đã check ",-1),Fa={class:"form-check"},za=(0,c._)("label",{class:"form-check-label",for:"flexRadioDefault2"}," Hoàn thành các công việc chưa check ",-1),Oa={class:"form-check"},$a=(0,c._)("label",{class:"form-check-label",for:"flexRadioDefault3"}," Hoàn thành tất cả ",-1),Ka={class:"modal-footer"},Ba=(0,c._)("button",{type:"button",class:"btn btn-secondary","data-bs-dismiss":"modal"},"Không",-1);function Qa(e,t,a,n,o,r){return(0,c.wg)(),(0,c.iD)("div",Aa,[(0,c._)("div",Ha,[(0,c._)("div",Wa,[Va,(0,c._)("div",Ea,[Ia,(0,c._)("div",Za,[(0,c._)("div",qa,[(0,c.wy)((0,c._)("input",{"onUpdate:modelValue":t[0]||(t[0]=e=>o.selection=e),class:"form-check-input",type:"radio",value:"checked",name:"flexRadioDefault",id:"flexRadioDefault1",checked:""},null,512),[[s.G2,o.selection]]),ja]),(0,c._)("div",Fa,[(0,c.wy)((0,c._)("input",{"onUpdate:modelValue":t[1]||(t[1]=e=>o.selection=e),class:"form-check-input",type:"radio",value:"unchecked",name:"flexRadioDefault",id:"flexRadioDefault2"},null,512),[[s.G2,o.selection]]),za]),(0,c._)("div",Oa,[(0,c.wy)((0,c._)("input",{"onUpdate:modelValue":t[2]||(t[2]=e=>o.selection=e),class:"form-check-input",type:"radio",value:"checkedall",name:"flexRadioDefault",id:"flexRadioDefault3"},null,512),[[s.G2,o.selection]]),$a])])]),(0,c._)("div",Ka,[Ba,(0,c._)("button",{type:"button",class:"btn btn-primary","data-bs-dismiss":"modal",onClick:t[3]||(t[3]=(...e)=>r.deleteAll&&r.deleteAll(...e))},"Có")])])])],512)}var Ga={name:"ModalStatistic",data(){return{selection:"checked",checkerName:""}},mounted(){this.checkerName=i.getters.getLoginName},methods:{async deleteAll(){this.$socket.emit("doneSelectionTask",{userCheck:this.checkerName,selection:this.selection,key:"statistic"})}}};const Ya=(0,v.Z)(Ga,[["render",Qa]]);var Ja=Ya,Xa={name:"Statistic",components:{ModalStatistic:Ja},data(){return{isLoading:!0,checkerName:""}},mounted(){this.checkerName=i.getters.getLoginName},computed:{dataItems(){return i.getters.getDataStatistic},enableDone(){return i.getters.getDataStatistic.length?"":"disable"}},created(){Wt.getIndexStore("statistic").then((e=>{i.commit("setDataStatistic",e),this.isLoading=!1})).catch((e=>{console.log(e)})),document.title="Thống kê"},methods:{check(e){console.log(e.target.checked),Wt.selectTask(e,this.checkerName,"statistic").then((e=>{i.commit("setDataStatistic",e)})).catch((e=>console.log(e)))},async doneTask(e){console.log(e.target.id);let t=this.$refs["checkerName_"+e.target.id][0].innerText||this.checkerName;this.$socket.emit("doneTask",{checkerName:this.checkerName,doneName:t,id:e.target.id,key:"statistic"})},isDisable(e){return this.checkerName!==e&&""!=e},done(){var e=new bootstrap.Modal(document.getElementById("modal"));i.getters.getDataStatistic.length>0&&e.show()}}};const es=(0,v.Z)(Xa,[["render",Pa]]);var ts=es;const as={class:"container-fluid p-2"},ss={key:0,class:"text-center mt-5"},ns=(0,c._)("div",{class:"spinner-border",role:"status"},[(0,c._)("span",{class:"visually-hidden"},"Loading...")],-1),os=[ns],rs={key:1,class:"card mb-4"},ls={class:"card-body"},is={class:"dataTable-wrapper dataTable-loading no-footer sortable searchable fixed-columns"},cs=(0,c._)("div",{class:"dataTable-top"},null,-1),ds={class:"table-wrapper"},us={class:"table table-striped table-hover"},ms=(0,c._)("thead",null,[(0,c._)("tr",null,[(0,c._)("th",null,"#"),(0,c._)("th",null,"Name"),(0,c._)("th",null,"Date Created"),(0,c._)("th",null,"Role"),(0,c._)("th",null,"Status"),(0,c._)("th",null,"Action")])],-1),gs=(0,c._)("td",null,[(0,c._)("span",{class:"status text-success"},"•"),(0,c.Uk)(" Active")],-1),ps={href:"#",class:"settings",title:"Settings","data-toggle":"tooltip"},hs=["id"],bs=(0,c._)("a",{href:"#",class:"delete",title:"Delete","data-toggle":"tooltip"},[(0,c._)("i",{class:"fas fa-user-times"})],-1);function fs(e,t,a,s,n,o){const r=(0,c.up)("ModalManagerUser");return(0,c.wg)(),(0,c.iD)("main",null,[(0,c._)("div",as,[n.isLoading?((0,c.wg)(),(0,c.iD)("div",ss,os)):((0,c.wg)(),(0,c.iD)("div",rs,[(0,c._)("div",ls,[(0,c._)("div",is,[cs,(0,c._)("div",ds,[(0,c._)("table",us,[ms,(0,c._)("tbody",null,[((0,c.wg)(!0),(0,c.iD)(c.HY,null,(0,c.Ko)(o.getUsers,((e,a)=>((0,c.wg)(),(0,c.iD)("tr",{key:a},[(0,c._)("td",null,(0,ot.zw)(a+1),1),(0,c._)("td",null,(0,ot.zw)(e.username),1),(0,c._)("td",null,(0,ot.zw)(e.createdAt),1),(0,c._)("td",null,(0,ot.zw)(e.role),1),gs,(0,c._)("td",null,[(0,c._)("a",ps,[(0,c._)("i",{id:a,onClick:t[0]||(t[0]=(...e)=>o.setting&&o.setting(...e)),class:"fas fa-cog"},null,8,hs)]),bs])])))),128))])])])])])]))]),(0,c.Wm)(r,{modal:n.modal},null,8,["modal"])])}O().defaults.withCredentials=!0;const vs={getAllUsers:async()=>{try{const e=await O().get("/api/db/user/index");return e}catch(e){return e}},updateUserInfo:async e=>{try{const t=await O().post("/api/db/user/update",{user:e});return t}catch(t){return t}},getAllRoles:async()=>{try{const e=await O().get("/api/db/role/index");return e}catch(e){return e}}};var _s=vs;const ws={ref:"modal",class:"modal fade",id:"modal",tabindex:"-1","aria-labelledby":"exampleModalLabel","aria-hidden":"true"},ys={class:"modal-dialog"},ks={class:"modal-content"},Ss=(0,c._)("div",{class:"modal-header"},[(0,c._)("h5",{class:"modal-title",id:"exampleModalLabel"},"User Setting")],-1),Ds={class:"modal-body"},Cs={class:"form-floating mb-3"},Us=(0,c._)("label",{for:"inputUsernameModal"},"username",-1),xs=(0,c._)("option",{class:"role",value:"manager"},"manager",-1),Ms=(0,c._)("option",{class:"role",value:"admin"},"admin",-1),Rs=(0,c._)("option",{class:"role",value:"user"},"user",-1),Ns=(0,c._)("option",{class:"role",value:"callcenter"},"callcenter",-1),Ts=[xs,Ms,Rs,Ns],Ls={class:"modal-footer"},Ps=(0,c._)("button",{type:"button",class:"btn btn-secondary","data-bs-dismiss":"modal"},"Không",-1),As={key:1,class:"btn btn-primary",type:"button",disabled:""},Hs=(0,c._)("span",{class:"spinner-border spinner-border-sm",role:"status","aria-hidden":"true"},null,-1),Ws=(0,c.Uk)(" Chờ tí... "),Vs=[Hs,Ws];function Es(e,t,a,s,n,o){return(0,c.wg)(),(0,c.iD)("div",ws,[(0,c._)("div",ys,[(0,c._)("div",ks,[Ss,(0,c._)("div",Ds,[(0,c._)("form",{action:"",onSubmit:t[2]||(t[2]=(...e)=>o.submit&&o.submit(...e)),method:"post"},[(0,c._)("div",Cs,[(0,c._)("input",{onInput:t[0]||(t[0]=(...e)=>o.changeName&&o.changeName(...e)),name:"username",class:"form-control",id:"inputUsernameModal",type:"text",ref:"usernameModal"},null,544),Us]),(0,c._)("select",{onChange:t[1]||(t[1]=(...e)=>o.changeSelection&&o.changeSelection(...e)),class:"form-select",ref:"selection",id:"selectionRole"},Ts,544)],32)]),n.isMessage?((0,c.wg)(),(0,c.iD)("div",{key:0,class:(0,ot.C_)("alert mx-3 alert-"+n.type),role:"alert"},(0,ot.zw)(n.message),3)):(0,c.kq)("",!0),(0,c._)("div",Ls,[Ps,n.isUpdated?((0,c.wg)(),(0,c.iD)("button",{key:0,type:"button",class:"btn btn-primary",onClick:t[3]||(t[3]=(...e)=>o.submit&&o.submit(...e))},"Cập nhật")):((0,c.wg)(),(0,c.iD)("button",As,Vs))])])])],512)}var Is={name:"ModalManagerUser",data(){return{user:{},selection:"manager",isUpdated:!0,isMessage:!1,type:"",message:""}},updated(){this.user=i.getters.getManagerUserInfo},props:["modal"],methods:{changeName(){this.isMessage=!1},changeSelection(){this.isMessage=!1},submit(){this.isUpdated=!1;const e={email:this.user.email,username:this.$refs["usernameModal"].value,role:this.$refs["selection"].value,createdAt:this.user.createdAt};console.log(e),_s.updateUserInfo(e).then((t=>{console.log(t),this.isUpdated=!0,this.isMessage=!0,this.type="success",this.message="updated success",i.dispatch("updateManagerUsers",e)})).catch((e=>{this.isMessage=!0,this.type="error",this.message=e}))}},mounted(){}};const Zs=(0,v.Z)(Is,[["render",Es]]);var qs=Zs,js={name:"ManagerUsers",components:{ModalManagerUser:qs},data(){return{isLoading:!0,modal:"",role:["manager","admin","user","callcenter"]}},computed:{getUsers(){return i.getters.getManagerUsers}},created(){document.title="Quản lý User",_s.getAllUsers().then((e=>{i.commit("setManagerUsers",e.data),this.isLoading=!1})).catch((e=>{console.log(e)}))},mounted(){},methods:{setting(e){const t=e.target.id,a=i.getters.getManagerUsers;var s=document.getElementById("inputUsernameModal");s.value=a[t].username;var n=document.querySelectorAll(".role");const o=this.role.findIndex((e=>e==a[t].role));n[o].setAttribute("selected","selected");var r=new bootstrap.Modal(document.getElementById("modal"));i.commit("setManagerUserInfo",a[t]),this.modal=r,r.show()}}};const Fs=(0,v.Z)(js,[["render",fs]]);var zs=Fs;const Os={class:"container-fluid p-2"},$s={key:0,class:"text-center mt-5"},Ks=(0,c._)("div",{class:"spinner-border",role:"status"},[(0,c._)("span",{class:"visually-hidden"},"Loading...")],-1),Bs=[Ks],Qs={key:1,class:"card mb-4"},Gs={class:"card-body"},Ys={class:"dataTable-wrapper dataTable-loading no-footer sortable searchable fixed-columns"},Js=(0,c._)("div",{class:"dataTable-top"},null,-1),Xs={class:"table-wrapper"},en={class:"table table-striped table-hover"},tn=(0,c._)("thead",null,[(0,c._)("tr",null,[(0,c._)("th",null,"Name"),(0,c._)("th",null,"View Realtime"),(0,c._)("th",null,"View Statistic"),(0,c._)("th",null,"View ManagerUser"),(0,c._)("th",null,"View ManagerRole")])],-1),an={key:0,class:"fas fa-check icon-green"},sn={key:1,class:"fas fa-times icon-red"},nn={key:0,class:"fas fa-check icon-green"},on={key:1,class:"fas fa-times icon-red"},rn={key:0,class:"fas fa-check icon-green"},ln={key:1,class:"fas fa-times icon-red"},cn={key:0,class:"fas fa-check icon-green"},dn={key:1,class:"fas fa-times icon-red"};function un(e,t,a,s,n,o){return(0,c.wg)(),(0,c.iD)("main",null,[(0,c._)("div",Os,[n.isLoading?((0,c.wg)(),(0,c.iD)("div",$s,Bs)):((0,c.wg)(),(0,c.iD)("div",Qs,[(0,c._)("div",Gs,[(0,c._)("div",Ys,[Js,(0,c._)("div",Xs,[(0,c._)("table",en,[tn,(0,c._)("tbody",null,[((0,c.wg)(!0),(0,c.iD)(c.HY,null,(0,c.Ko)(n.roles,((e,t)=>((0,c.wg)(),(0,c.iD)("tr",{key:t},[(0,c._)("td",null,(0,ot.zw)(e.name),1),(0,c._)("td",null,[o.isViewRealtime(t)?((0,c.wg)(),(0,c.iD)("i",an)):((0,c.wg)(),(0,c.iD)("i",sn))]),(0,c._)("td",null,[o.isViewStatistic(t)?((0,c.wg)(),(0,c.iD)("i",nn)):((0,c.wg)(),(0,c.iD)("i",on))]),(0,c._)("td",null,[o.isViewManagerUser(t)?((0,c.wg)(),(0,c.iD)("i",rn)):((0,c.wg)(),(0,c.iD)("i",ln))]),(0,c._)("td",null,[o.isViewManagerRole(t)?((0,c.wg)(),(0,c.iD)("i",cn)):((0,c.wg)(),(0,c.iD)("i",dn))])])))),128))])])])])])]))])])}var mn={name:"ManagerRole",data(){return{isLoading:!0,roles:[]}},created(){document.title="Quản lý Role",_s.getAllRoles().then((e=>{this.isLoading=!1,this.roles=e.data,console.log(e.data)})).catch((e=>console.log(e)))},methods:{isViewRealtime(e){return this.roles[e].permission.includes("view-realtime")},isViewStatistic(e){return this.roles[e].permission.includes("view-statistic")},isViewManagerUser(e){return this.roles[e].permission.includes("view-managerUser")},isViewManagerRole(e){return this.roles[e].permission.includes("view-managerRole")}}};const gn=(0,v.Z)(mn,[["render",un]]);var pn=gn,hn={name:"SideNavContentHomePage",components:{Footer:nt,RealTime:ma,Statistic:ts,ManagerUsers:zs,ManagerRoles:pn},computed:{canShow(){return i.getters.getSideNavContent},loadTable(){return i.getters.getLoadTable}}};const bn=(0,v.Z)(hn,[["render",Ye]]);var fn=bn;const vn={id:"layoutSidenav_content"};function _n(e,t,a,s,n,o){const r=(0,c.up)("Footer");return(0,c.wg)(),(0,c.iD)("div",vn,[(0,c.Wm)(r)])}var wn={name:"SideNavContentAccount",components:{Footer:nt}};const yn=(0,v.Z)(wn,[["render",_n]]);var kn=yn,Sn={name:"SideNavContent",components:{SideNavContentHomePage:fn,SideNavContentAccount:kn},computed:{canShow(){return i.getters.getSideNavContent}}};const Dn=(0,v.Z)(Sn,[["render",Qe]]);var Cn=Dn,Un={name:"SideNav",components:{SideNavToogle:Be,SideNavContent:Cn}};const xn=(0,v.Z)(Un,[["render",re]]);var Mn=xn,Rn={name:"HomePage",data(){return{tableName:""}},created(){document.title="Trang chủ"},components:{NavBar:se,SideNav:Mn},mounted(){console.log(JSON.parse(this.$cookies.get("refreshToken")))}};const Nn=(0,v.Z)(Rn,[["render",k]]);var Tn=Nn;const Ln={id:"layoutError"},Pn={id:"layoutError_content"},An={class:"container"},Hn={class:"row justify-content-center"},Wn={class:"col-lg-6"},Vn={class:"text-center mt-4"},En=(0,c._)("img",{class:"mb-4 img-error",src:"/assets/images/404_error.jpg"},null,-1),In=(0,c._)("p",{class:"lead"},"This requested URL was not found on this server.",-1),Zn=(0,c._)("i",{class:"fas fa-arrow-left me-1"},null,-1),qn=(0,c.Uk)(" Return to HomePage ");function jn(e,t,a,s,n,o){const r=(0,c.up)("router-link");return(0,c.wg)(),(0,c.iD)("div",Ln,[(0,c._)("div",Pn,[(0,c._)("main",null,[(0,c._)("div",An,[(0,c._)("div",Hn,[(0,c._)("div",Wn,[(0,c._)("div",Vn,[En,In,(0,c.Wm)(r,{to:"/"},{default:(0,c.w5)((()=>[Zn,qn])),_:1})])])])])])])])}var Fn={name:"Err404",created(){document.title="Đã xảy ra lỗi"}};const zn=(0,v.Z)(Fn,[["render",jn]]);var On=zn;function $n(e,t,a,s,n,o){const r=(0,c.up)("NavBar");return(0,c.wg)(),(0,c.iD)("div",null,[(0,c.Wm)(r)])}var Kn={name:"dashboard",data(){return{tableName:""}},created(){document.title="Trang chủ"},components:{NavBar:se},mounted(){console.log(JSON.parse(this.$cookies.get("refreshToken")))}};const Bn=(0,v.Z)(Kn,[["render",$n]]);var Qn=Bn;const Gn=async(e,t,a)=>{if("login"===t.name)a();else{const t=await K.isLogged();200===t?.status?(i.commit("setSideNavContent",e.name),a()):a({name:"login",query:{redirect:e.name}})}},Yn=async(e,t,a)=>{const s=await K.isLogged();200===s?.status?a({name:"home"}):a()},Jn={id:"layoutAuthentication"},Xn={id:"layoutAuthentication_content"},eo={class:"container"},to={class:"row justify-content-center"},ao={class:"col-lg-5"},so={class:"card shadow-lg border-0 rounded-lg mt-5"},no={class:"card-header"},oo=(0,c._)("h3",{class:"text-center font-weight-light my-4"},"Login",-1),ro={class:"text-center message-err"},lo={class:"card-body"},io={class:"form-floating mb-3"},co=(0,c._)("label",{for:"inputEmail"},"Email address",-1),uo={class:"form-floating mb-3"},mo=(0,c._)("label",{for:"inputPassword"},"Password",-1),go=(0,c._)("div",{class:"form-check mb-3"},[(0,c._)("input",{class:"form-check-input",id:"inputRememberPassword",type:"checkbox",value:""}),(0,c._)("label",{class:"form-check-label",for:"inputRememberPassword"},"Remember Password")],-1),po={class:"d-flex align-items-center justify-content-between mt-4 mb-0"},ho=(0,c.Uk)("Forgot Password?"),bo={key:0,class:"btn btn-primary",type:"submit"},fo={key:1,class:"btn btn-primary",type:"button",disabled:""},vo=(0,c._)("span",{class:"spinner-border spinner-border-sm",role:"status","aria-hidden":"true"},null,-1),_o=(0,c.Uk)(" Chờ tí... "),wo=[vo,_o],yo={class:"card-footer text-center py-3"},ko={class:"small"},So=(0,c.Uk)("Need an account? Sign up!");function Do(e,t,a,s,n,o){const r=(0,c.up)("Field"),l=(0,c.up)("ErrorMessage"),i=(0,c.up)("router-link"),d=(0,c.up)("Form"),u=(0,c.up)("Footer");return(0,c.wg)(),(0,c.iD)("div",Jn,[(0,c._)("div",Xn,[(0,c._)("main",null,[(0,c._)("div",eo,[(0,c._)("div",to,[(0,c._)("div",ao,[(0,c._)("div",so,[(0,c._)("div",no,[oo,(0,c._)("div",ro,(0,ot.zw)(n.message),1)]),(0,c._)("div",lo,[(0,c.Wm)(d,{action:"",onSubmit:o.submit,method:"post","validation-schema":n.schema},{default:(0,c.w5)((()=>[(0,c._)("div",io,[(0,c.Wm)(r,{name:"email",class:"form-control",id:"inputEmail",type:"email",placeholder:"name@example.com",modelValue:n.user.email,"onUpdate:modelValue":t[0]||(t[0]=e=>n.user.email=e)},null,8,["modelValue"]),co]),(0,c.Wm)(l,{name:"email",class:"help-message"}),(0,c._)("div",uo,[(0,c.Wm)(r,{name:"password",class:"form-control",id:"inputPassword",type:"password",placeholder:"Password",modelValue:n.user.password,"onUpdate:modelValue":t[1]||(t[1]=e=>n.user.password=e)},null,8,["modelValue"]),mo]),(0,c.Wm)(l,{name:"password",class:"help-message"}),go,(0,c._)("div",po,[(0,c.Wm)(i,{to:"/password"},{default:(0,c.w5)((()=>[ho])),_:1}),n.isLogged?((0,c.wg)(),(0,c.iD)("button",bo," Login ")):((0,c.wg)(),(0,c.iD)("button",fo,wo))])])),_:1},8,["onSubmit","validation-schema"])]),(0,c._)("div",yo,[(0,c._)("div",ko,[(0,c.Wm)(i,{to:"/register"},{default:(0,c.w5)((()=>[So])),_:1})])])])])])])])]),(0,c.Wm)(u)])}var Co=a(2954),Uo=a(4231),xo={name:"Login",components:{Footer:nt,Form:Co.l0,Field:Co.gN,ErrorMessage:Co.Bc},data(){const e=Uo.Ry({email:Uo.Z_().required().email(),password:Uo.Z_().required().min(6)});return{schema:e,user:{email:"",password:""},showError:!1,message:"",isLogged:!0}},created(){document.title="Đăng nhập"},methods:{submit(){this.isLogged=!1,K.login(this.user).then((e=>{this.isLogged=!0;const t=this.$route.query.redirect;i.commit("setSideNavContent",t??"home"),this.$router.push({name:t??"home"})})).catch((e=>{this.isLogged=!0,this.message=e.response.data}))}}};const Mo=(0,v.Z)(xo,[["render",Do]]);var Ro=Mo;const No={id:"layoutAuthentication"},To={id:"layoutAuthentication_content"},Lo={class:"container"},Po={class:"row justify-content-center"},Ao={class:"col-lg-7"},Ho={class:"card shadow-lg border-0 rounded-lg mt-5"},Wo={class:"card-header"},Vo=(0,c._)("h3",{class:"text-center font-weight-light my-4"}," Create Account ",-1),Eo={class:"text-center message-err"},Io={class:"card-body"},Zo={class:"form-floating mb-3"},qo=(0,c._)("label",{for:"inputName"},"Name",-1),jo={class:"form-floating mb-3"},Fo=(0,c._)("label",{for:"inputEmail"},"Email address",-1),zo={class:"row mb-3"},Oo={class:"col-md-6"},$o={class:"form-floating mb-3 mb-md-0"},Ko=(0,c._)("label",{for:"inputPassword"},"Password",-1),Bo={class:"col-md-6"},Qo={class:"form-floating mb-3 mb-md-0"},Go=(0,c._)("label",{for:"inputPasswordConfirm"},"Confirm Password",-1),Yo={class:"row mb-3"},Jo={class:"col-md-6"},Xo={class:"col-md-6"},er={class:"mt-4 mb-0"},tr={class:"d-grid"},ar={key:0,class:"btn btn-primary btn-block",type:"submit"},sr={key:1,class:"btn btn-primary",type:"button",disabled:""},nr=(0,c._)("span",{class:"spinner-border spinner-border-sm",role:"status","aria-hidden":"true"},null,-1),or=(0,c.Uk)(" Chờ tí... "),rr=[nr,or],lr={class:"card-footer text-center py-3"},ir={class:"small"},cr=(0,c.Uk)(" Have an account? Go to login");function dr(e,t,a,s,n,o){const r=(0,c.up)("Field"),l=(0,c.up)("ErrorMessage"),i=(0,c.up)("Form"),d=(0,c.up)("router-link"),u=(0,c.up)("Footer");return(0,c.wg)(),(0,c.iD)("div",No,[(0,c._)("div",To,[(0,c._)("main",null,[(0,c._)("div",Lo,[(0,c._)("div",Po,[(0,c._)("div",Ao,[(0,c._)("div",Ho,[(0,c._)("div",Wo,[Vo,(0,c._)("div",Eo,(0,ot.zw)(n.messageErr),1)]),(0,c._)("div",Io,[(0,c.Wm)(i,{action:"",onSubmit:o.submit,method:"post","validation-schema":n.schema},{default:(0,c.w5)((()=>[(0,c._)("div",Zo,[(0,c.Wm)(r,{name:"name",class:"form-control",id:"inputName",type:"text",placeholder:"Enter your name",modelValue:n.user.username,"onUpdate:modelValue":t[0]||(t[0]=e=>n.user.username=e)},null,8,["modelValue"]),qo]),(0,c.Wm)(l,{name:"name",class:"help-message"}),(0,c._)("div",jo,[(0,c.Wm)(r,{name:"email",class:"form-control",id:"inputEmail",type:"email",placeholder:"name@example.com",modelValue:n.user.email,"onUpdate:modelValue":t[1]||(t[1]=e=>n.user.email=e)},null,8,["modelValue"]),Fo]),(0,c.Wm)(l,{name:"email",class:"help-message"}),(0,c._)("div",zo,[(0,c._)("div",Oo,[(0,c._)("div",$o,[(0,c.Wm)(r,{name:"password",class:"form-control",id:"inputPassword",type:"password",placeholder:"Create a password",modelValue:n.user.password,"onUpdate:modelValue":t[2]||(t[2]=e=>n.user.password=e)},null,8,["modelValue"]),Ko])]),(0,c._)("div",Bo,[(0,c._)("div",Qo,[(0,c.Wm)(r,{name:"confirm_password",class:"form-control",id:"inputPasswordConfirm",type:"password",placeholder:"Confirm password",modelValue:n.user.pwdConfirmation,"onUpdate:modelValue":t[3]||(t[3]=e=>n.user.pwdConfirmation=e)},null,8,["modelValue"]),Go])])]),(0,c._)("div",Yo,[(0,c._)("div",Jo,[(0,c.Wm)(l,{name:"password",class:"help-message"})]),(0,c._)("div",Xo,[(0,c.Wm)(l,{name:"confirm_password",class:"help-message"})])]),(0,c._)("div",er,[(0,c._)("div",tr,[n.isRegister?((0,c.wg)(),(0,c.iD)("button",ar,"Create Account")):((0,c.wg)(),(0,c.iD)("button",sr,rr))])])])),_:1},8,["onSubmit","validation-schema"])]),(0,c._)("div",lr,[(0,c._)("div",ir,[(0,c.Wm)(d,{to:"/login"},{default:(0,c.w5)((()=>[cr])),_:1})])])])])])])])]),(0,c.Wm)(u)])}var ur={name:"Register",components:{Footer:nt,Form:Co.l0,Field:Co.gN,ErrorMessage:Co.Bc},data(){const e=Uo.Ry({name:Uo.Z_().required().min(2).max(20),email:Uo.Z_().email().required(),password:Uo.Z_().min(6).required(),confirm_password:Uo.Z_().required().oneOf([Uo.iH("password")],"Passwords do not match")});return{schema:e,user:{username:"",email:"",password:"",pwdConfirmation:""},messageErr:"",isRegister:!0}},created(){document.title="Đăng ký tài khoản"},methods:{submit(){this.isRegister=!1,K.register(this.user).then((e=>{this.isRegister=!0,this.$router.push("/login")})).catch((e=>{this.isRegister=!0,this.messageErr=e.response.data}))}}};const mr=(0,v.Z)(ur,[["render",dr]]);var gr=mr;const pr={id:"layoutAuthentication"},hr={id:"layoutAuthentication_content"},br={class:"container"},fr={class:"row justify-content-center"},vr={class:"col-lg-5"},_r={class:"card shadow-lg border-0 rounded-lg mt-5"},wr=(0,c._)("div",{class:"card-header"},[(0,c._)("h3",{class:"text-center font-weight-light my-4"},"Password Recovery")],-1),yr={class:"card-body"},kr=(0,c._)("div",{class:"small mb-3 text-muted"},"Enter your email address and we will send you a link to reset your password.",-1),Sr={class:"form-floating mb-3"},Dr=(0,c._)("label",{for:"inputEmail"},"Email address",-1),Cr={class:"d-flex align-items-center justify-content-between mt-4 mb-0"},Ur=(0,c.Uk)("Return to login"),xr={class:"card-footer text-center py-3"},Mr={class:"small"},Rr=(0,c.Uk)("Need an account? Sign up!");function Nr(e,t,a,n,o,r){const l=(0,c.up)("router-link"),i=(0,c.up)("Footer");return(0,c.wg)(),(0,c.iD)("div",pr,[(0,c._)("div",hr,[(0,c._)("main",null,[(0,c._)("div",br,[(0,c._)("div",fr,[(0,c._)("div",vr,[(0,c._)("div",_r,[wr,(0,c._)("div",yr,[kr,(0,c._)("form",null,[(0,c._)("div",Sr,[(0,c.wy)((0,c._)("input",{class:"form-control",id:"inputEmail",type:"email",placeholder:"name@example.com","onUpdate:modelValue":t[0]||(t[0]=e=>o.resetPass=e)},null,512),[[s.nr,o.resetPass]]),Dr]),(0,c._)("div",Cr,[(0,c.Wm)(l,{to:"/login"},{default:(0,c.w5)((()=>[Ur])),_:1}),(0,c._)("a",{class:"btn btn-primary",href:"#",onClick:t[1]||(t[1]=(...e)=>r.resetPassword&&r.resetPassword(...e))},"Reset Password")])])]),(0,c._)("div",xr,[(0,c._)("div",Mr,[(0,c.Wm)(l,{to:"/register"},{default:(0,c.w5)((()=>[Rr])),_:1})])])])])])])])]),(0,c.Wm)(i)])}var Tr={name:"Password",components:{Footer:nt},data(){return{resetPass:""}},created(){document.title="Quên mật khẩu"},methods:{resetPassword(){console.log(this.resetPass)}}};const Lr=(0,v.Z)(Tr,[["render",Nr]]);var Pr=Lr,Ar=[{path:"/login",name:"login",component:Ro,beforeEnter:Yn},{path:"/password",name:"password",component:Pr,beforeEnter:Yn},{path:"/register",name:"register",component:gr,beforeEnter:Yn}];function Hr(e,t,a,s,n,o){const r=(0,c.up)("NavBar"),l=(0,c.up)("SideNav");return(0,c.wg)(),(0,c.iD)("div",null,[(0,c.Wm)(r),(0,c.Wm)(l)])}var Wr={name:"AccountSetting",components:{NavBar:se,SideNav:Mn},created(){document.title="Account Setting"}};const Vr=(0,v.Z)(Wr,[["render",Hr]]);var Er=Vr;const Ir=[{path:"/",name:"home",component:Tn,beforeEnter:Gn},{path:"/dashboard",name:"dashboard",component:Qn},...Ar,{path:"/account",name:"account",component:Er,beforeEnter:Gn},{path:"/:pathMatch(.*)*",component:On}],Zr=(0,y.p7)({routes:Ir,history:(0,y.PO)()});var qr=Zr,jr=a(2346),Fr=a(760),zr=a.n(Fr),Or=a(7671),$r=a(6123),Kr=a.n($r);const Br=(0,s.ri)(w);Br.use(new(zr())({debug:!0,connection:(0,Or.io)("http://localhost:8001")})),Br.use(Kr()),Br.use(jr.Z,O()),Br.use(qr),Br.use(i),Br.mount("#app")}},t={};function a(s){var n=t[s];if(void 0!==n)return n.exports;var o=t[s]={id:s,loaded:!1,exports:{}};return e[s].call(o.exports,o,o.exports,a),o.loaded=!0,o.exports}a.m=e,function(){a.amdO={}}(),function(){var e=[];a.O=function(t,s,n,o){if(!s){var r=1/0;for(d=0;d<e.length;d++){s=e[d][0],n=e[d][1],o=e[d][2];for(var l=!0,i=0;i<s.length;i++)(!1&o||r>=o)&&Object.keys(a.O).every((function(e){return a.O[e](s[i])}))?s.splice(i--,1):(l=!1,o<r&&(r=o));if(l){e.splice(d--,1);var c=n();void 0!==c&&(t=c)}}return t}o=o||0;for(var d=e.length;d>0&&e[d-1][2]>o;d--)e[d]=e[d-1];e[d]=[s,n,o]}}(),function(){a.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return a.d(t,{a:t}),t}}(),function(){a.d=function(e,t){for(var s in t)a.o(t,s)&&!a.o(e,s)&&Object.defineProperty(e,s,{enumerable:!0,get:t[s]})}}(),function(){a.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){a.hmd=function(e){return e=Object.create(e),e.children||(e.children=[]),Object.defineProperty(e,"exports",{enumerable:!0,set:function(){throw new Error("ES Modules may not assign module.exports or exports.*, Use ESM export syntax, instead: "+e.id)}}),e}}(),function(){a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){a.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){a.nmd=function(e){return e.paths=[],e.children||(e.children=[]),e}}(),function(){var e={143:0};a.O.j=function(t){return 0===e[t]};var t=function(t,s){var n,o,r=s[0],l=s[1],i=s[2],c=0;if(r.some((function(t){return 0!==e[t]}))){for(n in l)a.o(l,n)&&(a.m[n]=l[n]);if(i)var d=i(a)}for(t&&t(s);c<r.length;c++)o=r[c],a.o(e,o)&&e[o]&&e[o][0](),e[o]=0;return a.O(d)},s=self["webpackChunkclient"]=self["webpackChunkclient"]||[];s.forEach(t.bind(null,0)),s.push=t.bind(null,s.push.bind(s))}();var s=a.O(void 0,[998],(function(){return a(6442)}));s=a.O(s)})();
//# sourceMappingURL=app.cd95b63d.js.map