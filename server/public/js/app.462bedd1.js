(function(){"use strict";var e={2966:function(e,t,a){var s=a(1406),n=a(3907);const o={idToColor:e=>{const t=["dark","red","orange","yellow","green","blue","cyan","violet","white"],a=t.findIndex(((t,a)=>a==e));return a>=0?t[e]:"black"}};var r=o;const l=(0,n.MT)({state:{user:{},loadTable:"realtime",isLoggin:!1,isPlaySoundMessage:!1,dataRealtime:[],dataStatistic:[],countColors:{},sideNavContent:"",currentData:{}},getters:{checkLoggin(e){return e.isLoggin},getUser(e){return e.user},getLoadTable(e){return e.loadTable},getLoginName(e){return e.user?.username},getIsPlaySoundMess(e){return e.isPlaySoundMessage},getDataRealtime(e){return e.dataRealtime},getDataStatistic(e){return e.dataStatistic},getCountColors(e){return e.countColors},getSideNavContent(e){return e.sideNavContent},getCurrentData(e){return e.currentData}},mutations:{setIsLoggin(e,t){e.isLoggin=t},setUser(e,t){e.user=t,e.isLoggin=!0},setLoadTable(e,t){e.loadTable=t},setDataRealtime(e,t){e.dataRealtime=t},insertDataRealtime(e,t){e.dataRealtime.unshift(t)},setDataStatistic(e,t){e.dataStatistic=t},insertDataStatistic(e,t){e.dataStatistic.unshift(t)},setCountColors(e,t){e.countColors=t},setSideNavContent(e,t){e.sideNavContent=t},setCurrentData(e,t){e.currentData=t}},actions:{handleSetLoadTable(e,t){e.commit("setLoadTable",t)}}});var i=l;const c=(0,n.MT)({state:{user:{},users:[]},getters:{getUserInfo(e){return e.user},getRole(e){return e.user.role},getUsername(e){return e.user.username},getUsers(e){return e.users}},mutations:{setUserInfo(e,t){e.user=t},setRole(e,t){e.user.role=t},setUsername(e,t){e.user.username=t},setUsers(e,t){e.users=t}},actions:{updateUsers({commit:e,state:t},a){const s=t.users.map((e=>e.email!==a.email?e:a));e("setUsers",s)}}});var d=c,u=a(3648);function m(e,t,a,s,n,o){const r=(0,u.up)("router-view");return(0,u.wg)(),(0,u.j4)(r)}var g=a(1766),h=new g.Howl({src:["../audios/elegant-notification-sound.mp3"],autoplay:!0,volume:1}),p=h,f=(e,t)=>{const a=e.permissions??[],s=a.some((e=>t.includes(e)));return s};const b={currentDataStore:e=>{const t=(e.type??"")+" "+(e.system??"")+" "+(e.parameter??""),a=r.idToColor(e.priority);i.commit("setCurrentData",{msg:t,color:a})},realtimeStore:e=>{var t=i.getters.getDataRealtime;if(t.length>0)for(let a=0;a<t.length;a++){if(0==t[a].priority||e.priority>0&&e.priority<=t[a].priority){t.splice(a,0,e);break}if(a==t.length-1){t.push(e);break}}else t.push(e);i.commit("setDataRealtime",t)},redisRealtimeStore:e=>{i.commit("setDataRealtime",e)},counterColorStore:()=>{const e=i.getters.getDataRealtime;var t={};e.forEach((e=>{const a=r.idToColor(e.priority);t[a]=(t[a]||0)+1})),i.commit("setCountColors",Object.entries(t))}};var v=b,_={name:"App",sockets:{realtime:function(e){const t=f(i.getters.getUser,["view-realtime"]);t&&(p.play(),v.currentDataStore(e),v.realtimeStore(e),v.counterColorStore())},statistic:function(e){const t=f(i.getters.getUser,["view-statistic"]);t&&i.commit("setDataStatistic",e)},updateRealtime:function(e){null==e.error&&(0==e.data.length&&i.commit("setCurrentData",{}),v.redisRealtimeStore(e.data),v.counterColorStore())},updateStatistic:function(e){null==e.error&&i.commit("setDataStatistic",e.data)}}},w=a(8118);const y=(0,w.Z)(_,[["render",m]]);var k=y,S=a(2119);function D(e,t,a,s,n,o){const r=(0,u.up)("NavBar"),l=(0,u.up)("SideNav");return(0,u.wg)(),(0,u.iD)("div",null,[(0,u.Wm)(r),(0,u.Wm)(l)])}const C={class:"sb-topnav navbar navbar-expand navbar-dark bg-dark"},U=(0,u.Uk)("IFC"),x=(0,u._)("i",{class:"fas fa-bars"},null,-1),R=[x],T={class:"d-none d-md-inline-block form-inline ms-auto me-0 me-md-3 my-2 my-md-0"},N={key:0,class:"input-group"},M=(0,u._)("input",{class:"form-control",type:"text",placeholder:"Search for...","aria-label":"Search for...","aria-describedby":"btnNavbarSearch"},null,-1),L=(0,u._)("button",{class:"btn btn-primary",id:"btnNavbarSearch",type:"button"},[(0,u._)("i",{class:"fas fa-search"})],-1),P=[M,L],A={class:"navbar-nav ms-auto ms-md-0 me-3 me-lg-4 navbar-expand"},H=(0,u.Uk)(" Login "),W=(0,u.Uk)(" Register "),V={class:"noti-icon px-3"},E={class:"nav-item dropdown"},I=(0,u._)("img",{src:"https://mdbcdn.b-cdn.net/img/new/avatars/2.webp",class:"rounded-circle",style:{width:"30px"},alt:"Avatar"},null,-1),Z={class:"dropdown-menu dropdown-menu-end","aria-labelledby":"navbarDropdown"},q=(0,u.Uk)("Settings"),j=(0,u._)("li",null,[(0,u._)("a",{class:"dropdown-item",href:"#!"},"Activity Log")],-1),F=(0,u._)("hr",{class:"dropdown-divider"},null,-1),z=[F];function O(e,t,a,n,o,r){const l=(0,u.up)("router-link"),i=(0,u.up)("NotiIcon");return(0,u.wg)(),(0,u.iD)("nav",C,[(0,u.Wm)(l,{class:"navbar-brand ps-3",to:"/"},{default:(0,u.w5)((()=>[U])),_:1}),r.isLoggin?((0,u.wg)(),(0,u.iD)("button",{key:0,class:"btn btn-link btn-sm order-1 order-lg-0 me-4 me-lg-0",id:"sidebarToggle",onClick:t[0]||(t[0]=(...e)=>r.sidebarToggle&&r.sidebarToggle(...e))},R)):(0,u.kq)("",!0),(0,u._)("form",T,[r.isLoggin?((0,u.wg)(),(0,u.iD)("div",N,P)):(0,u.kq)("",!0)]),r.isLoggin?((0,u.wg)(),(0,u.j4)(i,{key:1})):(0,u.kq)("",!0),(0,u._)("ul",A,[r.isLoggin?(0,u.kq)("",!0):((0,u.wg)(),(0,u.j4)(l,{key:0,class:"nav-link ps-4",to:"/login"},{default:(0,u.w5)((()=>[H])),_:1})),r.isLoggin?(0,u.kq)("",!0):((0,u.wg)(),(0,u.j4)(l,{key:1,class:"nav-link ps-4",to:"/register"},{default:(0,u.w5)((()=>[W])),_:1})),(0,u._)("div",V,[(0,u._)("li",E,[(0,u.Wm)(l,{class:"nav-link px-1",id:"navbarDropdown",to:"#",role:"button","data-bs-toggle":"dropdown","aria-expanded":"false"},{default:(0,u.w5)((()=>[I])),_:1}),(0,u._)("ul",Z,[(0,u._)("li",null,[(0,u.Wm)(l,{class:"dropdown-item",to:"/account"},{default:(0,u.w5)((()=>[q])),_:1})]),j,(0,u.wy)((0,u._)("li",null,z,512),[[s.F8,r.isLoggin]]),(0,u.wy)((0,u._)("li",null,[(0,u._)("a",{class:"dropdown-item",href:"#",onClick:t[1]||(t[1]=(...e)=>r.logout&&r.logout(...e))},"Logout")],512),[[s.F8,r.isLoggin]])])])])])])}var $=a(9669),K=a.n($);K().defaults.withCredentials=!0;const B={login:async e=>{try{const t=await K().post("api/auth/login",e),a=t.data.permissions[0].split("-")[1];return i.commit("setUser",t.data),i.commit("setIsLoggin",!0),i.commit("setLoadTable",a),localStorage.setItem("user",JSON.stringify(t.data)),t}catch(t){throw t}},register:async e=>{try{await K().post("api/auth/register",e);return"success"}catch(t){throw t}},logout:async()=>{try{const e=await K().post("api/auth/logout",{withCredentials:!0});return i.commit("setUser",{}),i.commit("setIsLoggin",!1),localStorage.clear(),e.data}catch(e){return e.response}},refreshToken:async()=>{try{const e=await K().post("api/auth/refresh",{withCredentials:!0});return localStorage.setItem("user",JSON.stringify(e.data)),e.data}catch(e){return e.response}},resetPassword:async e=>{try{const t=K().post("/api/auth/reset",{email:e});return t.data}catch(t){return t.response}},isLogged:async()=>{try{const e=localStorage.getItem("user")??{},t=await K().post("/api/auth/isLogged",{user:JSON.parse(e)},{withCredentials:!0}),a=t.data.permissions[0].split("-")[1];return i.commit("setUser",t.data),i.commit("setIsLoggin",!0),i.commit("setLoadTable",a),t}catch(e){return e.response}}};var Q=B;const G={class:"noti-icon px-2"},Y=(0,u._)("div",{class:"position-relative"},[(0,u._)("i",{class:"fas fa-bell noti circle-icon"}),(0,u._)("span",{class:"position-absolute top-1 start-100 translate-right badge rounded-pill bg-warning"},[(0,u.Uk)(" 99+ "),(0,u._)("span",{class:"visually-hidden"},"unread messages")])],-1),J=[Y];function X(e,t,a,s,n,o){return(0,u.wg)(),(0,u.iD)("div",G,J)}var ee={};const te=(0,w.Z)(ee,[["render",X]]);var ae=te,se={name:"NavBar",components:{NotiIcon:ae},data(){return{}},computed:{isLoggin(){return i.getters.checkLoggin}},methods:{logout(){Q.logout().then((e=>{this.$router.push({name:"dashboard"})})).catch((e=>{console.log(e)}))},sidebarToggle(){document.body.classList.toggle("sb-sidenav-toggled")}}};const ne=(0,w.Z)(se,[["render",O]]);var oe=ne;const re={id:"layoutSidenav"},le={id:"layoutSidenav_nav"};function ie(e,t,a,s,n,o){const r=(0,u.up)("SideNavToogle"),l=(0,u.up)("SideNavContent");return(0,u.wg)(),(0,u.iD)("div",re,[(0,u._)("div",le,[(0,u.Wm)(r)]),(0,u.Wm)(l)])}const ce={class:"sb-sidenav accordion sb-sidenav-dark",id:"sidenavAccordion"};function de(e,t,a,s,n,o){const r=(0,u.up)("SideNavMenu"),l=(0,u.up)("SideNavFooter");return(0,u.wg)(),(0,u.iD)("nav",ce,[(0,u.Wm)(r),(0,u.Wm)(l)])}const ue={class:"sb-sidenav-menu"};function me(e,t,a,s,n,o){const r=(0,u.up)("SideNavMenuHomePage"),l=(0,u.up)("SideNavMenuAccount");return(0,u.wg)(),(0,u.iD)("div",ue,["home"==o.canShow?((0,u.wg)(),(0,u.j4)(r,{key:0})):"account"==o.canShow?((0,u.wg)(),(0,u.j4)(l,{key:1})):(0,u.kq)("",!0)])}const ge={class:"nav"},he=(0,u._)("div",{class:"sb-nav-link-icon"},[(0,u._)("i",{class:"fas fa-chart-area"})],-1),pe=(0,u.Uk)(" Trực tuyến "),fe=[he,pe],be=(0,u._)("div",{class:"sb-nav-link-icon"},[(0,u._)("i",{class:"fas fa-table"})],-1),ve=(0,u.Uk)(" Thống kê "),_e=[be,ve],we=(0,u._)("div",{class:"sb-nav-link-icon"},[(0,u._)("i",{class:"fas fa-users-cog"})],-1),ye=(0,u.Uk)(" Manager Users "),ke=[we,ye],Se=(0,u._)("div",{class:"sb-nav-link-icon"},[(0,u._)("i",{class:"fas fa-user-tag"})],-1),De=(0,u.Uk)(" Manager Roles "),Ce=[Se,De];function Ue(e,t,a,s,n,o){return(0,u.wg)(),(0,u.iD)("div",ge,[o.canShowRealTime?((0,u.wg)(),(0,u.iD)("a",{key:0,ref:"realtime",class:"nav-link",onClick:t[0]||(t[0]=e=>o.setLoadTable("realtime"))},fe,512)):(0,u.kq)("",!0),o.canShowStatistic?((0,u.wg)(),(0,u.iD)("a",{key:1,ref:"statistic",class:"nav-link",onClick:t[1]||(t[1]=e=>o.setLoadTable("statistic"))},_e,512)):(0,u.kq)("",!0),o.canShowManagerUser?((0,u.wg)(),(0,u.iD)("a",{key:2,ref:"managerUser",class:"nav-link",onClick:t[2]||(t[2]=e=>o.setLoadTable("managerUser"))},ke,512)):(0,u.kq)("",!0),o.canShowManagerRole?((0,u.wg)(),(0,u.iD)("a",{key:3,ref:"managerRole",class:"nav-link",onClick:t[3]||(t[3]=e=>o.setLoadTable("managerRole"))},Ce,512)):(0,u.kq)("",!0)])}var xe={name:"SideNavMeneHomePage",computed:{canShowRealTime(){return f(i.getters.getUser,["view-realtime"])},canShowStatistic(){return f(i.getters.getUser,["view-statistic"])},canShowManagerUser(){return f(i.getters.getUser,["view-managerUser"])},canShowManagerRole(){return f(i.getters.getUser,["view-managerRole"])}},methods:{setLoadTable(e){i.dispatch("handleSetLoadTable",e),Object.keys(this.$refs).forEach((t=>{e!==t&&(this.$refs[t].classList.remove("highlight"),this.$refs[e].classList.add("highlight"))}))}},mounted(){let e=i.getters.getLoadTable;this.$refs[e].classList.add("highlight")}};const Re=(0,w.Z)(xe,[["render",Ue]]);var Te=Re;const Ne={class:"nav"},Me=(0,u._)("a",{class:"nav-link"},[(0,u._)("div",{class:"sb-nav-link-icon"},[(0,u._)("i",{class:"fas fa-chart-area"})]),(0,u.Uk)(" Account ")],-1),Le=[Me];function Pe(e,t,a,s,n,o){return(0,u.wg)(),(0,u.iD)("div",Ne,Le)}var Ae={name:"Account"};const He=(0,w.Z)(Ae,[["render",Pe]]);var We=He,Ve={name:"SideNavMenu",components:{SideNavMenuHomePage:Te,SideNavMenuAccount:We},computed:{canShow(){return i.getters.getSideNavContent}}};const Ee=(0,w.Z)(Ve,[["render",me]]);var Ie=Ee;const Ze={class:"sb-sidenav-footer"},qe=(0,u._)("div",{class:"small"},"Logged in as:",-1),je=(0,u.Uk)(" IFC "),Fe=[qe,je];function ze(e,t,a,s,n,o){return(0,u.wg)(),(0,u.iD)("div",Ze,Fe)}var Oe={name:"SideNavFooter"};const $e=(0,w.Z)(Oe,[["render",ze]]);var Ke=$e,Be={name:"SideNavToogle",components:{SideNavMenu:Ie,SideNavFooter:Ke}};const Qe=(0,w.Z)(Be,[["render",de]]);var Ge=Qe;function Ye(e,t,a,s,n,o){const r=(0,u.up)("SideNavContentHomePage"),l=(0,u.up)("SideNavContentAccount");return"home"==o.canShow?((0,u.wg)(),(0,u.j4)(r,{key:0})):"account"==o.canShow?((0,u.wg)(),(0,u.j4)(l,{key:1})):(0,u.kq)("",!0)}const Je={id:"layoutSidenav_content"};function Xe(e,t,a,s,n,o){const r=(0,u.up)("RealTime"),l=(0,u.up)("Statistic"),i=(0,u.up)("ManagerUsers"),c=(0,u.up)("ManagerRoles"),d=(0,u.up)("Footer");return(0,u.wg)(),(0,u.iD)("div",Je,[o.canShowRealTime&&"realtime"===o.loadTable?((0,u.wg)(),(0,u.j4)(r,{key:0,name:"realtime"})):(0,u.kq)("",!0),o.canShowStatistic&&"statistic"===o.loadTable?((0,u.wg)(),(0,u.j4)(l,{key:1,name:"statistic"})):(0,u.kq)("",!0),o.canShowManagerUser&&"managerUser"===o.loadTable?((0,u.wg)(),(0,u.j4)(i,{key:2,name:"managerUser"})):(0,u.kq)("",!0),o.canShowManagerRole&&"managerRole"===o.loadTable?((0,u.wg)(),(0,u.j4)(c,{key:3,name:"managerRole"})):(0,u.kq)("",!0),(0,u.Wm)(d)])}const et={class:"py-4 bg-light mt-auto"},tt=(0,u.uE)('<div class="container-fluid px-4"><div class="d-flex align-items-center justify-content-between small"><div class="text-muted">Copyright © IFC Website 2022</div><div><a href="#">Privacy Policy</a> · <a href="#">Terms &amp; Conditions</a></div></div></div>',1),at=[tt];function st(e,t,a,s,n,o){return(0,u.wg)(),(0,u.iD)("footer",et,at)}var nt={name:"Footer"};const ot=(0,w.Z)(nt,[["render",st]]);var rt=ot,lt=a(7495);const it={class:"container-fluid p-2"},ct={key:0,class:"text-center mt-5"},dt=(0,u._)("div",{class:"spinner-border",role:"status"},[(0,u._)("span",{class:"visually-hidden"},"Loading...")],-1),ut=[dt],mt={key:1,class:"card mb-4"},gt={class:"card-body"},ht={class:"dataTable-wrapper dataTable-loading no-footer sortable searchable fixed-columns"},pt=(0,u._)("div",{class:"dataTable-top"},null,-1),ft={class:"d-flex"},bt={class:"table-wrapper"},vt={class:"table-ifc table-dark table-ifc-hover table-bordered",id:"dataTable",width:"100%",cellspacing:"0"},_t=(0,u._)("thead",null,[(0,u._)("tr",{id:"0"},[(0,u._)("th",null,"Type"),(0,u._)("th",null,"System"),(0,u._)("th",null,"Parameter"),(0,u._)("th",null,"Value"),(0,u._)("th",null,"Unit"),(0,u._)("th",null,"Time"),(0,u._)("th",null,"Message"),(0,u._)("th",null,"Action"),(0,u._)("th",null,"Contact")])],-1),wt=["id"],yt={ref:"modal",class:"modal fade",id:"addColumnModal",tabindex:"-1","aria-labelledby":"addColumnModalLabel","aria-hidden":"true"},kt={class:"modal-dialog modal-xl"},St={class:"modal-content"},Dt=(0,u._)("div",{class:"modal-header"},[(0,u._)("h5",{class:"modal-title",id:"addColumnModalLabel"},"Thay đổi cột hiển thị")],-1),Ct={class:"d-inline-flex"},Ut={class:"modal-body"},xt={class:"table table-striped table-dark table-hover table-bordered",width:"100%",cellspacing:"0"},Rt={ref:"title"},Tt={ref:"nameShow"},Nt=["id"],Mt={ref:"nameQuery"},Lt=["id"],Pt={class:"flex-sm-column d-flex"},At={class:"modal-footer"},Ht=(0,u._)("button",{type:"button",class:"btn btn-secondary","data-bs-dismiss":"modal"},"Hủy",-1);function Wt(e,t,a,s,n,o){const r=(0,u.up)("ModalRealtime");return(0,u.wg)(),(0,u.iD)("main",null,[(0,u._)("div",it,[n.isLoading?((0,u.wg)(),(0,u.iD)("div",ct,ut)):((0,u.wg)(),(0,u.iD)("div",mt,[(0,u._)("div",gt,[(0,u._)("div",ht,[pt,(0,u._)("div",ft,[((0,u.wg)(!0),(0,u.iD)(u.HY,null,(0,u.Ko)(o.countColors,((e,t)=>((0,u.wg)(),(0,u.iD)("button",{type:"button",class:(0,lt.C_)("btn btn-"+e[0]+" mbr-2"),key:t},(0,lt.zw)(e[1]),3)))),128)),(0,u._)("button",{type:"button",class:(0,lt.C_)("btn btn-"+o.currentData.color+" mbr-2 mx-5 flex-grow-1"),disabled:""},(0,lt.zw)(o.currentData.msg),3),o.dataItems.length>0?((0,u.wg)(),(0,u.iD)("button",{key:0,onClick:t[0]||(t[0]=(...e)=>o.removeTask&&o.removeTask(...e)),type:"button",class:"btn btn-primary mbr-2"},"Remove Data")):(0,u.kq)("",!0)]),(0,u._)("div",bt,[(0,u._)("table",vt,[_t,(0,u._)("tbody",null,[((0,u.wg)(!0),(0,u.iD)(u.HY,null,(0,u.Ko)(o.dataItems,((e,t)=>((0,u.wg)(),(0,u.iD)("tr",{ref_for:!0,ref:"item",id:e?.priority,key:t},[(0,u._)("td",null,(0,lt.zw)(e?.type),1),(0,u._)("td",null,(0,lt.zw)(e?.system),1),(0,u._)("td",null,(0,lt.zw)(e?.parameter),1),(0,u._)("td",null,(0,lt.zw)(e?.value),1),(0,u._)("td",null,(0,lt.zw)(e?.unit),1),(0,u._)("td",null,(0,lt.zw)(e?.time),1),(0,u._)("td",null,(0,lt.zw)(o.collapMessage(e?.message)),1),(0,u._)("td",null,(0,lt.zw)(e?.action),1),(0,u._)("td",null,(0,lt.zw)(o.collapContact(e?.contact)),1)],8,wt)))),128))])])])])])]))]),(0,u._)("div",yt,[(0,u._)("div",kt,[(0,u._)("div",St,[Dt,(0,u._)("div",Ct,[(0,u._)("div",Ut,[(0,u._)("table",xt,[(0,u._)("thead",null,[(0,u._)("tr",Rt,[((0,u.wg)(!0),(0,u.iD)(u.HY,null,(0,u.Ko)(n.titles,((e,t)=>((0,u.wg)(),(0,u.iD)("th",{key:t},(0,lt.zw)(e),1)))),128))],512)]),(0,u._)("tbody",null,[(0,u._)("tr",Tt,[((0,u.wg)(!0),(0,u.iD)(u.HY,null,(0,u.Ko)(n.inputShows,((e,a)=>((0,u.wg)(),(0,u.iD)("td",{key:a},[(0,u._)("input",{onKeyup:t[1]||(t[1]=(...e)=>o.inputShowTable&&o.inputShowTable(...e)),name:"name-show",class:"form-control",id:a,type:"text",placeholder:"Hệ thống",ref_for:!0,ref:"show"},null,40,Nt)])))),128))],512),(0,u._)("tr",Mt,[((0,u.wg)(!0),(0,u.iD)(u.HY,null,(0,u.Ko)(n.inputQuerys,((e,a)=>((0,u.wg)(),(0,u.iD)("td",{key:a},[(0,u._)("input",{onKeyup:t[2]||(t[2]=(...e)=>o.inputQueryTable&&o.inputQueryTable(...e)),name:"name-query",class:"form-control",id:a,type:"text",placeholder:"name",ref_for:!0,ref:"query"},null,40,Lt)])))),128))],512)])])]),(0,u._)("div",Pt,[(0,u._)("i",{onClick:t[3]||(t[3]=(...e)=>o.addColumn&&o.addColumn(...e)),class:"fas fa-plus-square icon-add-column",ref:"iconPlus"},null,512),(0,u._)("i",{onClick:t[4]||(t[4]=(...e)=>o.removeColumn&&o.removeColumn(...e)),class:"fas fa-minus-square icon-remove-column",ref:"iconMinus"},null,512)])]),(0,u._)("div",At,[Ht,(0,u._)("button",{type:"button",class:"btn btn-primary","data-bs-dismiss":"modal",onClick:t[5]||(t[5]=(...e)=>o.addColumn&&o.addColumn(...e))},"Thay đổi")])])])],512),(0,u.Wm)(r)])}const Vt={getIndexStore:async e=>{try{const t=await K().post("/api/redis/index",{key:e});return t.data}catch(t){return t.response}},selectTask:async(e,t,a)=>{try{const s=await K().post("api/redis/update",{id:e.target.value,isAction:e.target.checked,username:e.target.checked?t:"",key:a});return s.data}catch(s){return s.response}},doneTask:async(e,t,a,s)=>{try{const n=await K().post("api/redis/delete",{id:e,userCheck:t,userDone:a,key:s});return n.data}catch(n){return n.response}},doneAllTask:async e=>{try{const t=await K().post("api/redis/deleteAll",{userCheck:e,userDone:e});return t.data}catch(t){return t.response}},doneSelectionTask:async(e,t,a)=>{try{const s=await K().post("api/redis/deleteSelection",{key:a,selection:t,userCheck:e,userDone:e});return s.data}catch(s){return s.response}},removeTask:async(e,t)=>{try{const a=await K().post("api/redis/deleteTaskHour",{hour:t,userDone:e});return a.data}catch(a){return a.response}}};var Et=Vt;const It={ref:"modal",class:"modal fade",id:"modal",tabindex:"-1","aria-labelledby":"modalLabel","aria-hidden":"true"},Zt={class:"modal-dialog"},qt={class:"modal-content"},jt=(0,u._)("div",{class:"modal-header"},[(0,u._)("h5",{class:"modal-title mt_warning",id:"modalLabel"},"Cảnh báo !!!")],-1),Ft={class:"modal-body"},zt=(0,u.Uk)(" Lựa chọn 1 trong các option bên dưới để hoàn thành! "),Ot={class:"p-3"},$t={class:"form-check"},Kt=["disabled"],Bt=(0,u._)("label",{class:"form-check-label",for:"flexRadioDefault1"}," 1 giờ trước ",-1),Qt={class:"form-check"},Gt=["disabled"],Yt=(0,u._)("label",{class:"form-check-label",for:"flexRadioDefault2"}," 3 giờ trước ",-1),Jt={class:"form-check"},Xt=["disabled"],ea=(0,u._)("label",{class:"form-check-label",for:"flexRadioDefault3"}," 6 giờ trước ",-1),ta={class:"form-check"},aa=["disabled"],sa=(0,u._)("label",{class:"form-check-label",for:"flexRadioDefault4"}," 12 giờ trước ",-1),na={class:"input-group input-group-sm mb-3 mt-1"},oa=(0,u._)("span",{class:"px-2"},"giờ trước",-1),ra={class:"modal-footer"},la=(0,u._)("button",{type:"button",class:"btn btn-secondary","data-bs-dismiss":"modal"},"Không",-1);function ia(e,t,a,n,o,r){return(0,u.wg)(),(0,u.iD)("div",It,[(0,u._)("div",Zt,[(0,u._)("div",qt,[jt,(0,u._)("div",Ft,[zt,(0,u._)("div",Ot,[(0,u._)("div",$t,[(0,u.wy)((0,u._)("input",{"onUpdate:modelValue":t[0]||(t[0]=e=>o.selection=e),class:"form-check-input",type:"radio",value:"1",name:"flexRadioDefault",id:"flexRadioDefault1",checked:"",disabled:o.inputDisable},null,8,Kt),[[s.G2,o.selection]]),Bt]),(0,u._)("div",Qt,[(0,u.wy)((0,u._)("input",{"onUpdate:modelValue":t[1]||(t[1]=e=>o.selection=e),class:"form-check-input",type:"radio",value:"3",name:"flexRadioDefault",id:"flexRadioDefault2",disabled:o.inputDisable},null,8,Gt),[[s.G2,o.selection]]),Yt]),(0,u._)("div",Jt,[(0,u.wy)((0,u._)("input",{"onUpdate:modelValue":t[2]||(t[2]=e=>o.selection=e),class:"form-check-input",type:"radio",value:"6",name:"flexRadioDefault",id:"flexRadioDefault3",disabled:o.inputDisable},null,8,Xt),[[s.G2,o.selection]]),ea]),(0,u._)("div",ta,[(0,u.wy)((0,u._)("input",{"onUpdate:modelValue":t[3]||(t[3]=e=>o.selection=e),class:"form-check-input",type:"radio",value:"12",name:"flexRadioDefault",id:"flexRadioDefault4",disabled:o.inputDisable},null,8,aa),[[s.G2,o.selection]]),sa]),(0,u._)("div",na,[(0,u.wy)((0,u._)("input",{onKeyup:t[4]||(t[4]=(...e)=>r.getHour&&r.getHour(...e)),"onUpdate:modelValue":t[5]||(t[5]=e=>o.inputHour=e),type:"number",class:"form-control input-hour",placeholder:"2","aria-label":"Recipient's username","aria-describedby":"basic-addon2",min:"0.1",max:"99",step:"0.1"},null,544),[[s.nr,o.inputHour]]),oa])])]),(0,u._)("div",ra,[la,(0,u._)("button",{type:"button",class:"btn btn-primary","data-bs-dismiss":"modal",onClick:t[6]||(t[6]=(...e)=>r.deleteAll&&r.deleteAll(...e))},"Có")])])])],512)}var ca={name:"ModalRealtime",data(){return{selection:"1",checkerName:"",inputHour:"",inputDisable:!1,hourRemove:0}},mounted(){this.checkerName=i.getters.getLoginName},methods:{async deleteAll(){this.inputDisable||(this.hourRemove=parseInt(this.selection)),this.$socket.emit("deleteRealtime",{username:this.checkerName,hour:this.hourRemove})},isNaN(e){return e=Number(e),e!=e},getHour(){this.hourRemove=parseInt(this.inputHour),!isNaN(this.hourRemove)&&parseFloat(this.inputHour)>0?this.inputDisable=!0:this.inputDisable=!1}}};const da=(0,w.Z)(ca,[["render",ia]]);var ua=da,ma={name:"Realtime",components:{ModalRealtime:ua},data(){return{isLoading:!0,shows:[0],querys:[0],inputShows:["Hệ thống"],inputQuerys:["name"],titles:["Hệ thống"]}},computed:{dataItems(){return i.getters.getDataRealtime},countColors(){return i.getters.getCountColors},currentData(){return i.getters.getCurrentData}},created(){Et.getIndexStore("realtime").then((e=>{v.redisRealtimeStore(e),v.counterColorStore(),this.isLoading=!1})).catch((e=>{console.log(e)})),document.title="Trực tuyến"},mounted(){1==this.inputShows.length&&(this.$refs.iconMinus.style.cursor="not-allowed")},methods:{convertColorName(){},inputShowTable(){this.$refs.show.forEach((e=>{console.log(e.id)}))},inputQueryTable(){console.log("query")},addColumn(){this.inputShows.length<10?(this.inputShows.push("Hệ thống"),this.inputQuerys.push("Hệ thống"),this.titles.push("Hệ thống"),this.$refs.iconMinus.style.cursor="pointer",10==this.inputShows.length&&(this.$refs.iconPlus.style.cursor="not-allowed")):this.$refs.iconPlus.style.cursor="not-allowed"},removeColumn(){this.inputShows.length>1?(this.inputShows.pop("Hệ thống"),this.inputQuerys.pop("Hệ thống"),this.titles.pop("Hệ thống"),this.$refs.iconPlus.style.cursor="pointer",1==this.inputShows.length&&(this.$refs.iconMinus.style.cursor="not-allowed")):this.$refs.iconMinus.style.cursor="not-allowed"},collapContact(e){const t=e.split(",");return t.length>1?t[0]+",...":t[0]},collapMessage(e){const t=e.split(" ");return t.length>10?e.slice(0,10)+",...":e},removeTask(){var e=new bootstrap.Modal(document.getElementById("modal"));i.getters.getDataRealtime.length>0&&e.show()}}};const ga=(0,w.Z)(ma,[["render",Wt]]);var ha=ga;const pa={class:"container-fluid p-2"},fa={key:0,class:"text-center mt-5"},ba=(0,u._)("div",{class:"spinner-border",role:"status"},[(0,u._)("span",{class:"visually-hidden"},"Loading...")],-1),va=[ba],_a={key:1,class:"card mb-4"},wa={class:"card-body"},ya={class:"dataTable-wrapper dataTable-loading no-footer sortable searchable fixed-columns"},ka=(0,u._)("div",{class:"dataTable-top"},null,-1),Sa={class:"table-wrapper"},Da={class:"table-ifc table-dark table-ifc-hover table-bordered",id:"dataTable",width:"100%",cellspacing:"0"},Ca={id:"0"},Ua=(0,u._)("th",null,"Type",-1),xa=(0,u._)("th",null,"System",-1),Ra=(0,u._)("th",null,"Message",-1),Ta=(0,u._)("th",null,"Total",-1),Na=(0,u._)("th",null,"Action",-1),Ma=(0,u._)("th",null,"Person",-1),La=["id"],Pa=["value","checked","disabled"],Aa=["id"];function Ha(e,t,a,s,n,o){const r=(0,u.up)("ModalStatistic");return(0,u.wg)(),(0,u.iD)("main",null,[(0,u._)("div",pa,[n.isLoading?((0,u.wg)(),(0,u.iD)("div",fa,va)):((0,u.wg)(),(0,u.iD)("div",_a,[(0,u._)("div",wa,[(0,u._)("div",ya,[ka,(0,u._)("div",Sa,[(0,u._)("table",Da,[(0,u._)("thead",null,[(0,u._)("tr",Ca,[Ua,xa,Ra,Ta,Na,Ma,(0,u._)("th",{onClick:t[0]||(t[0]=(...e)=>o.done&&o.done(...e)),id:"delete-all",class:(0,lt.C_)(o.enableDone)},"Done",2)])]),(0,u._)("tbody",null,[((0,u.wg)(!0),(0,u.iD)(u.HY,null,(0,u.Ko)(o.dataItems,((e,a)=>((0,u.wg)(),(0,u.iD)("tr",{ref_for:!0,ref:"item",id:e?.priority,key:a},[(0,u._)("td",null,(0,lt.zw)(e?.type),1),(0,u._)("td",null,(0,lt.zw)(e?.system),1),(0,u._)("td",null,(0,lt.zw)(e?.parameter),1),(0,u._)("td",null,(0,lt.zw)(e?.total),1),(0,u._)("td",null,[(0,u._)("input",{onClick:t[1]||(t[1]=(...e)=>o.check&&o.check(...e)),name:"chkbox",value:a,class:"form-check-input",type:"checkbox",checked:e.isAction,disabled:o.isDisable(e.username)},null,8,Pa)]),(0,u._)("td",{ref_for:!0,ref:"checkerName_"+a},(0,lt.zw)(e.username),513),(0,u._)("td",null,[(0,u._)("i",{onClick:t[2]||(t[2]=(...e)=>o.doneTask&&o.doneTask(...e)),id:a,class:"fas fa-trash",style:{color:"white"}},null,8,Aa)])],8,La)))),128))])])])])])]))]),(0,u.Wm)(r)])}const Wa={ref:"modal",class:"modal fade",id:"modal",tabindex:"-1","aria-labelledby":"exampleModalLabel","aria-hidden":"true"},Va={class:"modal-dialog"},Ea={class:"modal-content"},Ia=(0,u._)("div",{class:"modal-header"},[(0,u._)("h5",{class:"modal-title mt_warning",id:"exampleModalLabel"},"Cảnh báo !!!")],-1),Za={class:"modal-body"},qa=(0,u.Uk)(" Lựa chọn 1 trong các option bên dưới để hoàn thành! "),ja={class:"p-3"},Fa={class:"form-check"},za=(0,u._)("label",{class:"form-check-label",for:"flexRadioDefault1"}," Hoàn thành các công việc đã check ",-1),Oa={class:"form-check"},$a=(0,u._)("label",{class:"form-check-label",for:"flexRadioDefault2"}," Hoàn thành các công việc chưa check ",-1),Ka={class:"form-check"},Ba=(0,u._)("label",{class:"form-check-label",for:"flexRadioDefault3"}," Hoàn thành tất cả ",-1),Qa={class:"modal-footer"},Ga=(0,u._)("button",{type:"button",class:"btn btn-secondary","data-bs-dismiss":"modal"},"Không",-1);function Ya(e,t,a,n,o,r){return(0,u.wg)(),(0,u.iD)("div",Wa,[(0,u._)("div",Va,[(0,u._)("div",Ea,[Ia,(0,u._)("div",Za,[qa,(0,u._)("div",ja,[(0,u._)("div",Fa,[(0,u.wy)((0,u._)("input",{"onUpdate:modelValue":t[0]||(t[0]=e=>o.selection=e),class:"form-check-input",type:"radio",value:"checked",name:"flexRadioDefault",id:"flexRadioDefault1",checked:""},null,512),[[s.G2,o.selection]]),za]),(0,u._)("div",Oa,[(0,u.wy)((0,u._)("input",{"onUpdate:modelValue":t[1]||(t[1]=e=>o.selection=e),class:"form-check-input",type:"radio",value:"unchecked",name:"flexRadioDefault",id:"flexRadioDefault2"},null,512),[[s.G2,o.selection]]),$a]),(0,u._)("div",Ka,[(0,u.wy)((0,u._)("input",{"onUpdate:modelValue":t[2]||(t[2]=e=>o.selection=e),class:"form-check-input",type:"radio",value:"checkedall",name:"flexRadioDefault",id:"flexRadioDefault3"},null,512),[[s.G2,o.selection]]),Ba])])]),(0,u._)("div",Qa,[Ga,(0,u._)("button",{type:"button",class:"btn btn-primary","data-bs-dismiss":"modal",onClick:t[3]||(t[3]=(...e)=>r.deleteAll&&r.deleteAll(...e))},"Có")])])])],512)}var Ja={name:"ModalStatistic",data(){return{selection:"checked",checkerName:""}},mounted(){this.checkerName=i.getters.getLoginName},methods:{async deleteAll(){this.$socket.emit("doneSelectionTask",{userCheck:this.checkerName,selection:this.selection,key:"statistic"})}}};const Xa=(0,w.Z)(Ja,[["render",Ya]]);var es=Xa,ts={name:"Statistic",components:{ModalStatistic:es},data(){return{isLoading:!0,checkerName:""}},mounted(){this.checkerName=i.getters.getLoginName},computed:{dataItems(){return i.getters.getDataStatistic},enableDone(){return i.getters.getDataStatistic.length?"":"disable"}},created(){Et.getIndexStore("statistic").then((e=>{i.commit("setDataStatistic",e),this.isLoading=!1})).catch((e=>{console.log(e)})),document.title="Thống kê"},methods:{check(e){console.log(e.target.checked),Et.selectTask(e,this.checkerName,"statistic").then((e=>{i.commit("setDataStatistic",e)})).catch((e=>console.log(e)))},async doneTask(e){console.log(e.target.id);let t=this.$refs["checkerName_"+e.target.id][0].innerText||this.checkerName;this.$socket.emit("doneTask",{checkerName:this.checkerName,doneName:t,id:e.target.id,key:"statistic"})},isDisable(e){return this.checkerName!==e&&""!=e},done(){var e=new bootstrap.Modal(document.getElementById("modal"));i.getters.getDataStatistic.length>0&&e.show()}}};const as=(0,w.Z)(ts,[["render",Ha]]);var ss=as;const ns={class:"container-fluid p-2"},os={key:0,class:"text-center mt-5"},rs=(0,u._)("div",{class:"spinner-border",role:"status"},[(0,u._)("span",{class:"visually-hidden"},"Loading...")],-1),ls=[rs],is={key:1,class:"card mb-4"},cs={class:"card-body"},ds={class:"dataTable-wrapper dataTable-loading no-footer sortable searchable fixed-columns"},us=(0,u._)("div",{class:"dataTable-top"},null,-1),ms={class:"table-wrapper"},gs={class:"table table-striped table-hover"},hs=(0,u._)("thead",null,[(0,u._)("tr",null,[(0,u._)("th",null,"#"),(0,u._)("th",null,"Name"),(0,u._)("th",null,"Date Created"),(0,u._)("th",null,"Role"),(0,u._)("th",null,"Status"),(0,u._)("th",null,"Action")])],-1),ps=(0,u._)("td",null,[(0,u._)("span",{class:"status text-success"},"•"),(0,u.Uk)(" Active")],-1),fs={href:"#",class:"settings",title:"Settings","data-toggle":"tooltip"},bs=["id"],vs=(0,u._)("a",{href:"#",class:"delete",title:"Delete","data-toggle":"tooltip"},[(0,u._)("i",{class:"fas fa-user-times"})],-1);function _s(e,t,a,s,n,o){const r=(0,u.up)("ModalManagerUser");return(0,u.wg)(),(0,u.iD)("main",null,[(0,u._)("div",ns,[n.isLoading?((0,u.wg)(),(0,u.iD)("div",os,ls)):((0,u.wg)(),(0,u.iD)("div",is,[(0,u._)("div",cs,[(0,u._)("div",ds,[us,(0,u._)("div",ms,[(0,u._)("table",gs,[hs,(0,u._)("tbody",null,[((0,u.wg)(!0),(0,u.iD)(u.HY,null,(0,u.Ko)(o.getUsers,((e,a)=>((0,u.wg)(),(0,u.iD)("tr",{key:a},[(0,u._)("td",null,(0,lt.zw)(a+1),1),(0,u._)("td",null,(0,lt.zw)(e.username),1),(0,u._)("td",null,(0,lt.zw)(e.createdAt),1),(0,u._)("td",null,(0,lt.zw)(e.role),1),ps,(0,u._)("td",null,[(0,u._)("a",fs,[(0,u._)("i",{id:a,onClick:t[0]||(t[0]=(...e)=>o.setting&&o.setting(...e)),class:"fas fa-cog"},null,8,bs)]),vs])])))),128))])])])])])]))]),(0,u.Wm)(r,{modal:n.modal},null,8,["modal"])])}K().defaults.withCredentials=!0;const ws={getAllUsers:async()=>{try{const e=await K().get("/api/db/user/index");return e}catch(e){return e}},updateUserInfo:async e=>{try{const t=await K().post("/api/db/user/update",{user:e});return t}catch(t){return t}},getAllRoles:async()=>{try{const e=await K().get("/api/db/role/index");return e}catch(e){return e}}};var ys=ws;const ks={ref:"modal",class:"modal fade",id:"modal",tabindex:"-1","aria-labelledby":"exampleModalLabel","aria-hidden":"true"},Ss={class:"modal-dialog"},Ds={class:"modal-content"},Cs=(0,u._)("div",{class:"modal-header"},[(0,u._)("h5",{class:"modal-title",id:"exampleModalLabel"},"User Setting")],-1),Us={class:"modal-body"},xs={class:"form-floating mb-3"},Rs=(0,u._)("label",{for:"inputUsernameModal"},"username",-1),Ts=(0,u._)("option",{class:"role",value:"manager"},"manager",-1),Ns=(0,u._)("option",{class:"role",value:"admin"},"admin",-1),Ms=(0,u._)("option",{class:"role",value:"user"},"user",-1),Ls=(0,u._)("option",{class:"role",value:"callcenter"},"callcenter",-1),Ps=[Ts,Ns,Ms,Ls],As={class:"modal-footer"},Hs=(0,u._)("button",{type:"button",class:"btn btn-secondary","data-bs-dismiss":"modal"},"Không",-1),Ws={key:1,class:"btn btn-primary",type:"button",disabled:""},Vs=(0,u._)("span",{class:"spinner-border spinner-border-sm",role:"status","aria-hidden":"true"},null,-1),Es=(0,u.Uk)(" Chờ tí... "),Is=[Vs,Es];function Zs(e,t,a,s,n,o){return(0,u.wg)(),(0,u.iD)("div",ks,[(0,u._)("div",Ss,[(0,u._)("div",Ds,[Cs,(0,u._)("div",Us,[(0,u._)("form",{action:"",onSubmit:t[2]||(t[2]=(...e)=>o.submit&&o.submit(...e)),method:"post"},[(0,u._)("div",xs,[(0,u._)("input",{onInput:t[0]||(t[0]=(...e)=>o.changeName&&o.changeName(...e)),name:"username",class:"form-control",id:"inputUsernameModal",type:"text",ref:"usernameModal"},null,544),Rs]),(0,u._)("select",{onChange:t[1]||(t[1]=(...e)=>o.changeSelection&&o.changeSelection(...e)),class:"form-select",ref:"selection",id:"selectionRole"},Ps,544)],32)]),n.isMessage?((0,u.wg)(),(0,u.iD)("div",{key:0,class:(0,lt.C_)("alert mx-3 alert-"+n.type),role:"alert"},(0,lt.zw)(n.message),3)):(0,u.kq)("",!0),(0,u._)("div",As,[Hs,n.isUpdated?((0,u.wg)(),(0,u.iD)("button",{key:0,type:"button",class:"btn btn-primary",onClick:t[3]||(t[3]=(...e)=>o.submit&&o.submit(...e))},"Cập nhật")):((0,u.wg)(),(0,u.iD)("button",Ws,Is))])])])],512)}var qs={name:"ModalManagerUser",data(){return{user:{},selection:"manager",isUpdated:!0,isMessage:!1,type:"",message:""}},updated(){this.user=d.getters.getUserInfo},props:["modal"],methods:{changeName(){this.isMessage=!1},changeSelection(){this.isMessage=!1},submit(){this.isUpdated=!1;const e={email:this.user.email,username:this.$refs["usernameModal"].value,role:this.$refs["selection"].value,createdAt:this.user.createdAt};console.log(e),ys.updateUserInfo(e).then((t=>{console.log(t),this.isUpdated=!0,this.isMessage=!0,this.type="success",this.message="updated success",d.dispatch("updateUsers",e)})).catch((e=>{this.isMessage=!0,this.type="error",this.message=e}))}},mounted(){}};const js=(0,w.Z)(qs,[["render",Zs]]);var Fs=js,zs={name:"ManagerUsers",components:{ModalManagerUser:Fs},data(){return{isLoading:!0,modal:"",role:["manager","admin","user","callcenter"]}},computed:{getUsers(){return d.getters.getUsers}},created(){document.title="Quản lý User",ys.getAllUsers().then((e=>{d.commit("setUsers",e.data),this.isLoading=!1})).catch((e=>{console.log(e)}))},mounted(){},methods:{setting(e){const t=e.target.id,a=d.getters.getUsers;var s=document.getElementById("inputUsernameModal");s.value=a[t].username;var n=document.querySelectorAll(".role");const o=this.role.findIndex((e=>e==a[t].role));n[o].setAttribute("selected","selected");var r=new bootstrap.Modal(document.getElementById("modal"));d.commit("setUserInfo",a[t]),this.modal=r,r.show()}}};const Os=(0,w.Z)(zs,[["render",_s]]);var $s=Os;const Ks={class:"container-fluid p-2"},Bs={key:0,class:"text-center mt-5"},Qs=(0,u._)("div",{class:"spinner-border",role:"status"},[(0,u._)("span",{class:"visually-hidden"},"Loading...")],-1),Gs=[Qs],Ys={key:1,class:"card mb-4"},Js={class:"card-body"},Xs={class:"dataTable-wrapper dataTable-loading no-footer sortable searchable fixed-columns"},en=(0,u._)("div",{class:"dataTable-top"},null,-1),tn={class:"table-wrapper"},an={class:"table table-striped table-hover"},sn=(0,u._)("thead",null,[(0,u._)("tr",null,[(0,u._)("th",null,"Name"),(0,u._)("th",null,"View Realtime"),(0,u._)("th",null,"View Statistic"),(0,u._)("th",null,"View ManagerUser"),(0,u._)("th",null,"View ManagerRole")])],-1),nn={key:0,class:"fas fa-check icon-green"},on={key:1,class:"fas fa-times icon-red"},rn={key:0,class:"fas fa-check icon-green"},ln={key:1,class:"fas fa-times icon-red"},cn={key:0,class:"fas fa-check icon-green"},dn={key:1,class:"fas fa-times icon-red"},un={key:0,class:"fas fa-check icon-green"},mn={key:1,class:"fas fa-times icon-red"};function gn(e,t,a,s,n,o){return(0,u.wg)(),(0,u.iD)("main",null,[(0,u._)("div",Ks,[n.isLoading?((0,u.wg)(),(0,u.iD)("div",Bs,Gs)):((0,u.wg)(),(0,u.iD)("div",Ys,[(0,u._)("div",Js,[(0,u._)("div",Xs,[en,(0,u._)("div",tn,[(0,u._)("table",an,[sn,(0,u._)("tbody",null,[((0,u.wg)(!0),(0,u.iD)(u.HY,null,(0,u.Ko)(n.roles,((e,t)=>((0,u.wg)(),(0,u.iD)("tr",{key:t},[(0,u._)("td",null,(0,lt.zw)(e.name),1),(0,u._)("td",null,[o.isViewRealtime(t)?((0,u.wg)(),(0,u.iD)("i",nn)):((0,u.wg)(),(0,u.iD)("i",on))]),(0,u._)("td",null,[o.isViewStatistic(t)?((0,u.wg)(),(0,u.iD)("i",rn)):((0,u.wg)(),(0,u.iD)("i",ln))]),(0,u._)("td",null,[o.isViewManagerUser(t)?((0,u.wg)(),(0,u.iD)("i",cn)):((0,u.wg)(),(0,u.iD)("i",dn))]),(0,u._)("td",null,[o.isViewManagerRole(t)?((0,u.wg)(),(0,u.iD)("i",un)):((0,u.wg)(),(0,u.iD)("i",mn))])])))),128))])])])])])]))])])}var hn={name:"ManagerRole",data(){return{isLoading:!0,roles:[]}},created(){document.title="Quản lý Role",ys.getAllRoles().then((e=>{this.isLoading=!1,this.roles=e.data,console.log(e.data)})).catch((e=>console.log(e)))},methods:{isViewRealtime(e){return this.roles[e].permission.includes("view-realtime")},isViewStatistic(e){return this.roles[e].permission.includes("view-statistic")},isViewManagerUser(e){return this.roles[e].permission.includes("view-managerUser")},isViewManagerRole(e){return this.roles[e].permission.includes("view-managerRole")}}};const pn=(0,w.Z)(hn,[["render",gn]]);var fn=pn,bn={name:"SideNavContentHomePage",components:{Footer:rt,RealTime:ha,Statistic:ss,ManagerUsers:$s,ManagerRoles:fn},computed:{canShow(){return i.getters.getSideNavContent},loadTable(){return i.getters.getLoadTable},canShowRealTime(){return f(i.getters.getUser,["view-realtime"])},canShowStatistic(){return f(i.getters.getUser,["view-statistic"])},canShowManagerUser(){return f(i.getters.getUser,["view-managerUser"])},canShowManagerRole(){return f(i.getters.getUser,["view-managerRole"])}}};const vn=(0,w.Z)(bn,[["render",Xe]]);var _n=vn;const wn={id:"layoutSidenav_content"};function yn(e,t,a,s,n,o){const r=(0,u.up)("Footer");return(0,u.wg)(),(0,u.iD)("div",wn,[(0,u.Wm)(r)])}var kn={name:"SideNavContentAccount",components:{Footer:rt}};const Sn=(0,w.Z)(kn,[["render",yn]]);var Dn=Sn,Cn={name:"SideNavContent",components:{SideNavContentHomePage:_n,SideNavContentAccount:Dn},computed:{canShow(){return i.getters.getSideNavContent}}};const Un=(0,w.Z)(Cn,[["render",Ye]]);var xn=Un,Rn={name:"SideNav",components:{SideNavToogle:Ge,SideNavContent:xn}};const Tn=(0,w.Z)(Rn,[["render",ie]]);var Nn=Tn,Mn={name:"HomePage",data(){return{tableName:""}},components:{NavBar:oe,SideNav:Nn},mounted(){console.log(JSON.parse(this.$cookies.get("refreshToken")))}};const Ln=(0,w.Z)(Mn,[["render",D]]);var Pn=Ln;const An={id:"layoutError"},Hn={id:"layoutError_content"},Wn={class:"container"},Vn={class:"row justify-content-center"},En={class:"col-lg-6"},In={class:"text-center mt-4"},Zn=(0,u._)("img",{class:"mb-4 img-error",src:"/assets/images/404_error.jpg"},null,-1),qn=(0,u._)("p",{class:"lead"},"This requested URL was not found on this server.",-1),jn=(0,u._)("i",{class:"fas fa-arrow-left me-1"},null,-1),Fn=(0,u.Uk)(" Return to HomePage ");function zn(e,t,a,s,n,o){const r=(0,u.up)("router-link");return(0,u.wg)(),(0,u.iD)("div",An,[(0,u._)("div",Hn,[(0,u._)("main",null,[(0,u._)("div",Wn,[(0,u._)("div",Vn,[(0,u._)("div",En,[(0,u._)("div",In,[Zn,qn,(0,u.Wm)(r,{to:"/"},{default:(0,u.w5)((()=>[jn,Fn])),_:1})])])])])])])])}var On={name:"Err404",created(){document.title="Đã xảy ra lỗi"}};const $n=(0,w.Z)(On,[["render",zn]]);var Kn=$n;function Bn(e,t,a,s,n,o){const r=(0,u.up)("NavBar");return(0,u.wg)(),(0,u.iD)("div",null,[(0,u.Wm)(r)])}var Qn={name:"dashboard",data(){return{tableName:""}},created(){document.title="Trang chủ"},components:{NavBar:oe},mounted(){console.log(JSON.parse(this.$cookies.get("refreshToken")))}};const Gn=(0,w.Z)(Qn,[["render",Bn]]);var Yn=Gn;const Jn=async(e,t,a)=>{if("login"===t.name)a();else{const t=await Q.isLogged();200===t?.status?(i.commit("setSideNavContent",e.name),a()):a({name:"login",query:{redirect:e.name}})}},Xn=async(e,t,a)=>{const s=await Q.isLogged();200===s?.status?a({name:"home"}):a()},eo={id:"layoutAuthentication"},to={id:"layoutAuthentication_content"},ao={class:"container"},so={class:"row justify-content-center"},no={class:"col-lg-5"},oo={class:"card shadow-lg border-0 rounded-lg mt-5"},ro={class:"card-header"},lo=(0,u._)("h3",{class:"text-center font-weight-light my-4"},"Login",-1),io={class:"text-center message-err"},co={class:"card-body"},uo={class:"form-floating mb-3"},mo=(0,u._)("label",{for:"inputEmail"},"Email address",-1),go={class:"form-floating mb-3"},ho=(0,u._)("label",{for:"inputPassword"},"Password",-1),po=(0,u._)("div",{class:"form-check mb-3"},[(0,u._)("input",{class:"form-check-input",id:"inputRememberPassword",type:"checkbox",value:""}),(0,u._)("label",{class:"form-check-label",for:"inputRememberPassword"},"Remember Password")],-1),fo={class:"d-flex align-items-center justify-content-between mt-4 mb-0"},bo=(0,u.Uk)("Forgot Password?"),vo=(0,u._)("button",{class:"btn btn-primary",type:"submit"}," Login ",-1),_o={class:"card-footer text-center py-3"},wo={class:"small"},yo=(0,u.Uk)("Need an account? Sign up!");function ko(e,t,a,s,n,o){const r=(0,u.up)("Field"),l=(0,u.up)("ErrorMessage"),i=(0,u.up)("router-link"),c=(0,u.up)("Form"),d=(0,u.up)("Footer");return(0,u.wg)(),(0,u.iD)("div",eo,[(0,u._)("div",to,[(0,u._)("main",null,[(0,u._)("div",ao,[(0,u._)("div",so,[(0,u._)("div",no,[(0,u._)("div",oo,[(0,u._)("div",ro,[lo,(0,u._)("div",io,(0,lt.zw)(n.message),1)]),(0,u._)("div",co,[(0,u.Wm)(c,{action:"",onSubmit:o.submit,method:"post","validation-schema":n.schema},{default:(0,u.w5)((()=>[(0,u._)("div",uo,[(0,u.Wm)(r,{name:"email",class:"form-control",id:"inputEmail",type:"email",placeholder:"name@example.com",modelValue:n.user.email,"onUpdate:modelValue":t[0]||(t[0]=e=>n.user.email=e)},null,8,["modelValue"]),mo]),(0,u.Wm)(l,{name:"email",class:"help-message"}),(0,u._)("div",go,[(0,u.Wm)(r,{name:"password",class:"form-control",id:"inputPassword",type:"password",placeholder:"Password",modelValue:n.user.password,"onUpdate:modelValue":t[1]||(t[1]=e=>n.user.password=e)},null,8,["modelValue"]),ho]),(0,u.Wm)(l,{name:"password",class:"help-message"}),po,(0,u._)("div",fo,[(0,u.Wm)(i,{to:"/password"},{default:(0,u.w5)((()=>[bo])),_:1}),vo])])),_:1},8,["onSubmit","validation-schema"])]),(0,u._)("div",_o,[(0,u._)("div",wo,[(0,u.Wm)(i,{to:"/register"},{default:(0,u.w5)((()=>[yo])),_:1})])])])])])])])]),(0,u.Wm)(d)])}var So=a(2954),Do=a(4231),Co={name:"Login",components:{Footer:rt,Form:So.l0,Field:So.gN,ErrorMessage:So.Bc},data(){const e=Do.Ry({email:Do.Z_().required().email(),password:Do.Z_().required().min(6)});return{schema:e,user:{email:"",password:""},showError:!1,message:""}},created(){document.title="Đăng nhập"},methods:{submit(){console.log("form",this.user),Q.login(this.user).then((e=>{const t=this.$route.query.redirect;i.commit("setSideNavContent",t??"home"),this.$router.push({name:t??"home"})})).catch((e=>{this.message=e.response.data}))}}};const Uo=(0,w.Z)(Co,[["render",ko]]);var xo=Uo;const Ro={id:"layoutAuthentication"},To={id:"layoutAuthentication_content"},No={class:"container"},Mo={class:"row justify-content-center"},Lo={class:"col-lg-7"},Po={class:"card shadow-lg border-0 rounded-lg mt-5"},Ao={class:"card-header"},Ho=(0,u._)("h3",{class:"text-center font-weight-light my-4"}," Create Account ",-1),Wo={class:"text-center message-err"},Vo={class:"card-body"},Eo={class:"form-floating mb-3"},Io=(0,u._)("label",{for:"inputName"},"Name",-1),Zo={class:"form-floating mb-3"},qo=(0,u._)("label",{for:"inputEmail"},"Email address",-1),jo={class:"row mb-3"},Fo={class:"col-md-6"},zo={class:"form-floating mb-3 mb-md-0"},Oo=(0,u._)("label",{for:"inputPassword"},"Password",-1),$o={class:"col-md-6"},Ko={class:"form-floating mb-3 mb-md-0"},Bo=(0,u._)("label",{for:"inputPasswordConfirm"},"Confirm Password",-1),Qo={class:"row mb-3"},Go={class:"col-md-6"},Yo={class:"col-md-6"},Jo=(0,u._)("div",{class:"mt-4 mb-0"},[(0,u._)("div",{class:"d-grid"},[(0,u._)("button",{class:"btn btn-primary btn-block",type:"submit"},"Create Account")])],-1),Xo={class:"card-footer text-center py-3"},er={class:"small"},tr=(0,u.Uk)(" Have an account? Go to login");function ar(e,t,a,s,n,o){const r=(0,u.up)("Field"),l=(0,u.up)("ErrorMessage"),i=(0,u.up)("Form"),c=(0,u.up)("router-link"),d=(0,u.up)("Footer");return(0,u.wg)(),(0,u.iD)("div",Ro,[(0,u._)("div",To,[(0,u._)("main",null,[(0,u._)("div",No,[(0,u._)("div",Mo,[(0,u._)("div",Lo,[(0,u._)("div",Po,[(0,u._)("div",Ao,[Ho,(0,u._)("div",Wo,(0,lt.zw)(n.messageErr),1)]),(0,u._)("div",Vo,[(0,u.Wm)(i,{action:"",onSubmit:o.submit,method:"post","validation-schema":n.schema},{default:(0,u.w5)((()=>[(0,u._)("div",Eo,[(0,u.Wm)(r,{name:"name",class:"form-control",id:"inputName",type:"text",placeholder:"Enter your name",modelValue:n.user.username,"onUpdate:modelValue":t[0]||(t[0]=e=>n.user.username=e)},null,8,["modelValue"]),Io]),(0,u.Wm)(l,{name:"name",class:"help-message"}),(0,u._)("div",Zo,[(0,u.Wm)(r,{name:"email",class:"form-control",id:"inputEmail",type:"email",placeholder:"name@example.com",modelValue:n.user.email,"onUpdate:modelValue":t[1]||(t[1]=e=>n.user.email=e)},null,8,["modelValue"]),qo]),(0,u.Wm)(l,{name:"email",class:"help-message"}),(0,u._)("div",jo,[(0,u._)("div",Fo,[(0,u._)("div",zo,[(0,u.Wm)(r,{name:"password",class:"form-control",id:"inputPassword",type:"password",placeholder:"Create a password",modelValue:n.user.password,"onUpdate:modelValue":t[2]||(t[2]=e=>n.user.password=e)},null,8,["modelValue"]),Oo])]),(0,u._)("div",$o,[(0,u._)("div",Ko,[(0,u.Wm)(r,{name:"confirm_password",class:"form-control",id:"inputPasswordConfirm",type:"password",placeholder:"Confirm password",modelValue:n.user.pwdConfirmation,"onUpdate:modelValue":t[3]||(t[3]=e=>n.user.pwdConfirmation=e)},null,8,["modelValue"]),Bo])])]),(0,u._)("div",Qo,[(0,u._)("div",Go,[(0,u.Wm)(l,{name:"password",class:"help-message"})]),(0,u._)("div",Yo,[(0,u.Wm)(l,{name:"confirm_password",class:"help-message"})])]),Jo])),_:1},8,["onSubmit","validation-schema"])]),(0,u._)("div",Xo,[(0,u._)("div",er,[(0,u.Wm)(c,{to:"/login"},{default:(0,u.w5)((()=>[tr])),_:1})])])])])])])])]),(0,u.Wm)(d)])}var sr={name:"Register",components:{Footer:rt,Form:So.l0,Field:So.gN,ErrorMessage:So.Bc},data(){const e=Do.Ry({name:Do.Z_().required().min(2).max(20),email:Do.Z_().email().required(),password:Do.Z_().min(6).required(),confirm_password:Do.Z_().required().oneOf([Do.iH("password")],"Passwords do not match")});return{schema:e,user:{username:"",email:"",password:"",pwdConfirmation:""},messageErr:""}},created(){document.title="Đăng ký tài khoản"},methods:{submit(){Q.register(this.user).then((e=>{this.$router.push("/login")})).catch((e=>{this.messageErr=e.response.data}))}}};const nr=(0,w.Z)(sr,[["render",ar]]);var or=nr;const rr={id:"layoutAuthentication"},lr={id:"layoutAuthentication_content"},ir={class:"container"},cr={class:"row justify-content-center"},dr={class:"col-lg-5"},ur={class:"card shadow-lg border-0 rounded-lg mt-5"},mr=(0,u._)("div",{class:"card-header"},[(0,u._)("h3",{class:"text-center font-weight-light my-4"},"Password Recovery")],-1),gr={class:"card-body"},hr=(0,u._)("div",{class:"small mb-3 text-muted"},"Enter your email address and we will send you a link to reset your password.",-1),pr={class:"form-floating mb-3"},fr=(0,u._)("label",{for:"inputEmail"},"Email address",-1),br={class:"d-flex align-items-center justify-content-between mt-4 mb-0"},vr=(0,u.Uk)("Return to login"),_r={class:"card-footer text-center py-3"},wr={class:"small"},yr=(0,u.Uk)("Need an account? Sign up!");function kr(e,t,a,n,o,r){const l=(0,u.up)("router-link"),i=(0,u.up)("Footer");return(0,u.wg)(),(0,u.iD)("div",rr,[(0,u._)("div",lr,[(0,u._)("main",null,[(0,u._)("div",ir,[(0,u._)("div",cr,[(0,u._)("div",dr,[(0,u._)("div",ur,[mr,(0,u._)("div",gr,[hr,(0,u._)("form",null,[(0,u._)("div",pr,[(0,u.wy)((0,u._)("input",{class:"form-control",id:"inputEmail",type:"email",placeholder:"name@example.com","onUpdate:modelValue":t[0]||(t[0]=e=>o.resetPass=e)},null,512),[[s.nr,o.resetPass]]),fr]),(0,u._)("div",br,[(0,u.Wm)(l,{to:"/login"},{default:(0,u.w5)((()=>[vr])),_:1}),(0,u._)("a",{class:"btn btn-primary",href:"#",onClick:t[1]||(t[1]=(...e)=>r.resetPassword&&r.resetPassword(...e))},"Reset Password")])])]),(0,u._)("div",_r,[(0,u._)("div",wr,[(0,u.Wm)(l,{to:"/register"},{default:(0,u.w5)((()=>[yr])),_:1})])])])])])])])]),(0,u.Wm)(i)])}var Sr={name:"Password",components:{Footer:rt},data(){return{resetPass:""}},created(){document.title="Quên mật khẩu"},methods:{resetPassword(){console.log(this.resetPass)}}};const Dr=(0,w.Z)(Sr,[["render",kr]]);var Cr=Dr,Ur=[{path:"/login",name:"login",component:xo,beforeEnter:Xn},{path:"/password",name:"password",component:Cr,beforeEnter:Xn},{path:"/register",name:"register",component:or,beforeEnter:Xn}];function xr(e,t,a,s,n,o){const r=(0,u.up)("NavBar"),l=(0,u.up)("SideNav");return(0,u.wg)(),(0,u.iD)("div",null,[(0,u.Wm)(r),(0,u.Wm)(l)])}var Rr={name:"AccountSetting",components:{NavBar:oe,SideNav:Nn},created(){document.title="Account Setting"}};const Tr=(0,w.Z)(Rr,[["render",xr]]);var Nr=Tr;const Mr=[{path:"/",name:"home",component:Pn,beforeEnter:Jn},{path:"/dashboard",name:"dashboard",component:Yn},...Ur,{path:"/account",name:"account",component:Nr,beforeEnter:Jn},{path:"/:pathMatch(.*)*",component:Kn}],Lr=(0,S.p7)({routes:Mr,history:(0,S.PO)()});var Pr=Lr,Ar=a(2346),Hr=a(760),Wr=a.n(Hr),Vr=a(7671),Er=a(6123),Ir=a.n(Er);const Zr=(0,s.ri)(k);Zr.use(new(Wr())({debug:!0,connection:(0,Vr.io)("http://113.160.233.28:8000")})),Zr.use(Ir()),Zr.use(Ar.Z,K()),Zr.use(Pr),Zr.use(i),Zr.use(d),Zr.mount("#app")}},t={};function a(s){var n=t[s];if(void 0!==n)return n.exports;var o=t[s]={id:s,loaded:!1,exports:{}};return e[s].call(o.exports,o,o.exports,a),o.loaded=!0,o.exports}a.m=e,function(){a.amdO={}}(),function(){var e=[];a.O=function(t,s,n,o){if(!s){var r=1/0;for(d=0;d<e.length;d++){s=e[d][0],n=e[d][1],o=e[d][2];for(var l=!0,i=0;i<s.length;i++)(!1&o||r>=o)&&Object.keys(a.O).every((function(e){return a.O[e](s[i])}))?s.splice(i--,1):(l=!1,o<r&&(r=o));if(l){e.splice(d--,1);var c=n();void 0!==c&&(t=c)}}return t}o=o||0;for(var d=e.length;d>0&&e[d-1][2]>o;d--)e[d]=e[d-1];e[d]=[s,n,o]}}(),function(){a.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return a.d(t,{a:t}),t}}(),function(){a.d=function(e,t){for(var s in t)a.o(t,s)&&!a.o(e,s)&&Object.defineProperty(e,s,{enumerable:!0,get:t[s]})}}(),function(){a.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){a.hmd=function(e){return e=Object.create(e),e.children||(e.children=[]),Object.defineProperty(e,"exports",{enumerable:!0,set:function(){throw new Error("ES Modules may not assign module.exports or exports.*, Use ESM export syntax, instead: "+e.id)}}),e}}(),function(){a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){a.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){a.nmd=function(e){return e.paths=[],e.children||(e.children=[]),e}}(),function(){var e={143:0};a.O.j=function(t){return 0===e[t]};var t=function(t,s){var n,o,r=s[0],l=s[1],i=s[2],c=0;if(r.some((function(t){return 0!==e[t]}))){for(n in l)a.o(l,n)&&(a.m[n]=l[n]);if(i)var d=i(a)}for(t&&t(s);c<r.length;c++)o=r[c],a.o(e,o)&&e[o]&&e[o][0](),e[o]=0;return a.O(d)},s=self["webpackChunkclient"]=self["webpackChunkclient"]||[];s.forEach(t.bind(null,0)),s.push=t.bind(null,s.push.bind(s))}();var s=a.O(void 0,[998],(function(){return a(2966)}));s=a.O(s)})();
//# sourceMappingURL=app.462bedd1.js.map